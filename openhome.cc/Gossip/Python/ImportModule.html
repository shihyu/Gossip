<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Python/ImportModule.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:15:42 GMT -->
<head>










  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>匯入模組</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Python Gossip: 匯入模組<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;"> <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center> </center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>接續</small> <small><a href="ModuleABC.html">簡介模組</a> 的內容。</small><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">sys.path</span>陣列中的字串元素其實是由幾個來源所組成：所執行檔案（模組）的所在目錄、<span style="font-weight: bold;">PYTHONPATH</span>環境變數的內容、標準程式庫搜尋目錄、<span style="font-weight: bold;">.pth</span>檔案中所列出的目錄。<br>
      <br>
例如，若在Windows上，有個模組檔案位於C:\workspace，而Python安裝於C:\winware\python31：<br>
      </small>
      <pre>import sys<br>print(sys.path)<br></pre>
      <small><br>
若你如下執行程式：</small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
<tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">C:\workspace&gt;c:\winware\python31\python demo.py<br>
</span>['C:\\workspace', 'C:\\Windows\\system32\\python31.zip', 'c:\\winware\\python31\<br>
\DLLs', 'c:\\winware\\python31\\lib', 'c:\\winware\\python31\\lib\\plat-win', 'c<br>
:\\winware\\python31', 'c:\\winware\\python31\\lib\\site-packages']<span style="font-weight: bold;"><br>
            <br>
C:\workspace&gt;set PYTHONPATH=C:\lib<br>
            <br>
C:\workspace&gt;c:\winware\python31\python demo.py<br>
            </span>['C:\\workspace', 'C:\\lib', 'C:\\Windows\\system32\\python31.zip', 'c:\\winware<br>
\\python31\\DLLs', 'c:\\winware\\python31\\lib', 'c:\\winware\\python31\\lib\\pl<br>
at-win', 'c:\\winware\\python31', 'c:\\winware\\python31\\lib\\site-packages']<span style="font-weight: bold;"><br>
            <br>
C:\workspace&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      </table>
      <small><br>C:\\workspace是所執行檔案所在目錄、C:\\lib是PYTHONPATH的設定內容，其它是標準程式庫搜尋目錄，至於.pth檔案所列出的目錄，是指你可以在<span style="font-weight: bold;">Python安裝目錄</span>，或者是安裝目錄的<span style="font-weight: bold;">lib\site-packages</span>目錄中建立.pth檔案，當中一行一行列出搜尋模組檔案的目錄，如果該目錄確實存在，則會列為<span style="font-family: Courier New,Courier,monospace;">sys.path</span>的內容。例如，若在C:\winware\python31中放置mydir.pth，內容如下：<br>
      </small>
      <pre>C:\lib2<br>C:\lib3<br></pre>
      <small><br>
而在c:\winware\python31\lib\site-packages中放置一個mydir.pth，內容如下：<br>
      </small>
      <pre>C:\lib4<br>C:\lib5<br></pre>
      <small><br>
如果所列的目錄確實存在，則再度執行demo.py，會顯示如下：</small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">

<tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">C:\workspace&gt;c:\winware\python31\python demo.py<br>
</span>['C:\\workspace', 'C:\\lib', 'C:\\Windows\\system32\\python31.zip', 'C:\\Winware<br>
\\Python31\\DLLs', 'C:\\Winware\\Python31\\lib', 'C:\\Winware\\Python31\\lib\\pl<br>
at-win', 'C:\\Winware\\Python31', 'C:\\lib2', 'C:\\lib3', 'C:\\Winware\\Python31<br>
\\lib\\site-packages', 'C:\\lib4', 'C:\\lib5']<br>
            <span style="font-weight: bold;"><br>
C:\workspace&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      </table>

      <small><br><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">import</span><span style="font-weight: bold;">會在sys.path中尋找.py或已編譯的.pyc，如果.py尚未編譯則編譯為.pyc，而後載入執行一次，再次</span><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">import</span><span style="font-weight: bold;">同一個模組並不會再執行一次模組，如果找到.py與.pyc，而.pyc的版本並沒有比.py舊，則略過編譯直接執行，如果僅找到.pyc而沒有找到.py，也會直接執行。</span><br>
      <br>
在執行時期，你可以動態地改變sys.path的內容，來改變搜尋模組的路徑。例如，若有個superman.py放在C:\library中，而superman.py的內容如下：<br>
      </small><small><span style="font-family: Courier New,Courier,monospace;"></span></small>
      <pre>print('superman modulle')<br>name = 'Justin'<br></pre>
      <small><br>
而你執行的檔案為：<br>
      </small>
      <pre>import sys<br>print(sys.path, end='\n\n')<br><br>sys.path.append('c:\library')<br>print(sys.path, end='\n\n')<br><br>import superman<br>print(superman.name)<br></pre>
      <small><br>
則執行的結果會是：</small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">


<tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">C:\workspace&gt;c:\winware\python31\python demo.py<br>
</span>['C:\\workspace', 'C:\\lib', 'C:\\Windows\\system32\\python31.zip', 'C:\\Winware<br>
\\Python31\\DLLs', 'C:\\Winware\\Python31\\lib', 'C:\\Winware\\Python31\\lib\\pl<br>
at-win', 'C:\\Winware\\Python31', 'C:\\Winware\\Python31\\lib\\site-packages']<br>
            <br>
['C:\\workspace', 'C:\\lib', 'C:\\Windows\\system32\\python31.zip', 'C:\\Winware<br>
\\Python31\\DLLs', 'C:\\Winware\\Python31\\lib', 'C:\\Winware\\Python31\\lib\\pl<br>
at-win', 'C:\\Winware\\Python31', 'C:\\Winware\\Python31\\lib\\site-packages', '<br>
c:\\library']<br>
            <br>
superman modulle<br>
Justin<br>

      <span style="font-weight: bold;"><br>
C:\workspace&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      </table>


      <small><br>Python的<span style="font-family: Courier New,Courier,monospace;">import</span>是執行時期的運算，<span style="font-family: Courier New,Courier,monospace;">import</span>某個模組，就會執行該模組中定義的內容，被<span style="font-family: Courier New,Courier,monospace;">import的模組名稱會成為目前模組的變數，而被import的模組中的變數，就是以被import模組名稱為名稱空間。<br>
      </span></small><br>
      <small><br>
      </small>
</td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Python/ImportModule.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:15:42 GMT -->
</html>