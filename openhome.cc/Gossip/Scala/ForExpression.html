<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Scala/ForExpression.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
<head>







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">







  
  
  
  
  
  
  
  <title>for 運算式</title></head>
<body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Scala Gossip: for 運算式</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>
      <br></td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>如果你想要循序取出某個序列，例如陣列，則可以使用for運算式，例如，將使用者提供的命令列引數逐一取出：<br></small><pre>for(arg &lt;- args) {<br>    println(arg)<br>}</pre><small><br>一個執行的範例如下：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala ForDemo.scala This is for example<br>This<br>is<br>for<br>example</span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>

<small><br>args是個字串陣列，for括號中的「<span style="font-family: Courier New,Courier,monospace;">arg&lt;-args</span>」是一個<span style="font-weight: bold;">產生器（Generator）</span>語法，它會迭代整個陣列，每一次取出陣列中一個元素並設定給arg，要注意的是，雖然沒有明確寫出，不過arg事實上是val所宣告的變數，你不可以在for運算式本體中改變arg的參考。雖然沒有必要，不過你要寫明arg是個val也是可以的：<br></small><pre>for(val arg &lt;- args) {<br>    println(arg)<br>}</pre><br><small>在for運算式中也可以有for運算式，例如以下是個九九乘法表的顯示範例：<br></small><pre>for(j &lt;- 1 to 9) { <br>    for(i &lt;- 2 to 9) { <br>        printf("%d*%d=%2d ",i, j,  i * j)<br>    } <br>    println()<br>}</pre><small><span class="postbody"><br>執行結果：</span></small><br>






      
      
      <table style="text-align: left; width: 100%; font-family: Courier New,Courier,monospace;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">2*1= 2 3*1= 3 4*1= 4 5*1= 5 6*1= 6 7*1= 7 8*1= 8 9*1= 9<br>
2*2= 4 3*2= 6 4*2= 8 5*2=10 6*2=12 7*2=14 8*2=16 9*2=18<br>
2*3= 6 3*3= 9 4*3=12 5*3=15 6*3=18 7*3=21 8*3=24 9*3=27<br>
2*4= 8 3*4=12 4*4=16 5*4=20 6*4=24 7*4=28 8*4=32 9*4=36<br>
2*5=10 3*5=15 4*5=20 5*5=25 6*5=30 7*5=35 8*5=40 9*5=45<br>
2*6=12 3*6=18 4*6=24 5*6=30 6*6=36 7*6=42 8*6=48 9*6=54<br>
2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49 8*7=56 9*7=63<br>
2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64 9*8=72<br>
2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81</span></small></td>





    </tr>





  
  
  
        
        
        </tbody>
      
      
      </table>





<br><small>範例的運作原理是，1 <span style="font-weight: bold;">to</span> 9這會產生一個Range物件</small><small>（to是RichInt上的方法）</small><small>，內含元素1到9，for運算式中的產生器語法逐一將元素1到9指定給變數。如果你要產生一個不包括9的Range物件，則可以使用<span style="font-weight: bold;">until</span>方法。例如：<br></small><pre>for(i &lt;- 1 until 9) {<br>    println(i) // 顯示 1 到 8<br>}</pre><small><br>until也可以讓你指定步進值，可指定正數或負數，例如若要指定步進值2：</small><small><br></small><pre>for(i &lt;- 1 until (9, 2)) {<br>    println(i) // 顯示 1 3 5 7<br>}</pre><small><br>你可以在for運算式的括號中撰寫兩個以上的產生器語法，中間以逗號作區隔。例如如果巢狀for運算是連續的：<br></small><div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">for(i &lt;- 1 to 9) {</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; for(j &lt;- 1 to 9) {</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;// 作一些事...</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; }</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">}</span></small><br></div><small><br>則你可以撰寫為：<br></small><div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">for(i &lt;- 1 to 9; j &lt;- 1 to 9) {</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp; // 作一些事...</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">}</span></small><br></div><small><br>在for運算式中，可以撰寫if運算式，也就是for的<span style="font-weight: bold;">過濾器（filter）</span>寫法，例如，若你想濾出命令列引數所提供的檔名中，副名為.txt結尾的部份，則可以如下撰寫：<br></small><pre>for(<br>    arg &lt;- args <br>    if arg.endsWith(".txt")<br>) println(arg)<br></pre><small><br>如果有兩個以上的過濾器 ，則必須以逗號區隔，例如同時過濾副檔名為.txt，而主檔名以a開頭的引數：<br></small><pre>for(<br>    arg &lt;- args<br>    if arg.endsWith(".txt"); <br>    if arg.startsWith("a")<br>) println(arg)</pre><small><br>在for中可以指定<span style="font-weight: bold;">中介變數（Mid-stream variable）</span>，例如：<br></small><pre>for(<br>    arg &lt;- args<br>    if arg.endsWith(".txt");<br>    file = arg<br>    if file.startsWith("a")<br>) println(file)</pre><small><br>雖然沒有在語法上指明，不過file實際上是個val所宣告的變數，所以你不可以再重新指定值給file變數。<br><br>for是個運算式，這代表著它可以有運算結果，運算結果會是個群集（Collection）物件，你可以在for運算式中使用yield來進行值的收集，for運算結束傳回收集的結果，例如：<br></small><div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">val files = for(arg &lt;- args if arg.endsWith(".txt")) yield arg</span></small><br></div><small><br>上面的範例，最後files會包括所有輸入的引數中，結尾為.txt的名稱。<br><br><br></small><br><small><br><br><br></small></td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Scala/ForExpression.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
</html>