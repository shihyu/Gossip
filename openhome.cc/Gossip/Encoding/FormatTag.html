<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Encoding/FormatTag.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:08:01 GMT -->
<head>


















  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>格式標籤</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Encoding Gossip: 格式標籤<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;"><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center> </script></center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>JSTL的格式標籤可以讓你針對數字、日期與時間，搭配地區設定或指定的格式來進行格式化，也可以進行數字、日期與時間的剖析，以日期、時間格式化為例：<br>
      </small>
      <pre>&lt;%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;<br>&lt;%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%&gt;<br>&lt;jsp:useBean id="now" class="java.util.Date"/&gt;<br>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" <br>  "http://www.w3.org/TR/html4/loose.dtd"&gt;<br>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta http-equiv="Content-Type"<br>               content="text/html; charset=UTF-8"&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;fmt:formatDate value="${now}"/&gt;&lt;br&gt;<br>        &lt;fmt:formatDate value="${now}" dateStyle="full"/&gt;&lt;br&gt;<br>        &lt;fmt:formatDate value="${now}"<br>                           type="time" timeStyle="full"/&gt;&lt;br&gt;<br>        &lt;fmt:formatDate value="${now}" pattern="dd.MM.yy"/&gt;&lt;br&gt;<br>        &lt;fmt:timeZone value="GMT+1:00"&gt;<br>            &lt;fmt:formatDate value="${now}" type="both"<br>                               dateStyle="full" timeStyle="full"/&gt;&lt;br&gt;<br>        &lt;/fmt:timeZone&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt; <br></pre>
      <small><br>
      <span style="font-family: Courier New,Courier,monospace;">&lt;fmt:formatDate&gt;預設用來格式化日期，可根據不同的地區設定來呈現不同的格式，這個範例並沒有指定地區設定，所以會根據瀏覽器的Accept-Language標頭來決定地區。</span><br style="font-family: Courier New,Courier,monospace;">
      <br>
      <span style="font-family: Courier New,Courier,monospace;">dateStyle
屬性用來指定日期的詳細程度，可設定的值有"default"、"short"、"medium"、"long"、"full"，如果想顯示時間，則要在
type屬性上指定"time"或"both"，預設是"date"，timeStyle屬性用來指定時間的詳細程度，可設定的值同樣有
"default"、"short"、"medium"、"long"、"full"。</span><br>
      <br>
      <span style="font-family: Courier New,Courier,monospace;">pattern屬性則可自訂格式，格式的指定方式與java.text.SimpleDateFormat的指定方式相同，可參考SimpleDateFormat</span>的API文件說明。<br>
      <br>
      <span style="font-family: Courier New,Courier,monospace;">&lt;fmt:timeZone&gt;可指定時區，可使用字串或java.util.TimeZone物件指定，字串指定的方式，可參考TimeZone</span>的API文件說明，如果需要全域的時區指定，則可以使用<span style="font-family: Courier New,Courier,monospace;">&lt;fmt:setTimeZone&gt;標籤，&lt;fmt:formateDate&gt;本身亦有個timeZone屬性可以進行時區設定，也可以透過屬性範圍或Config物件來設定，屬性名稱、常數名稱與會套用時區設定的標籤如下表所示：<br>
      </span></small><br>

      <table style="text-align: left; width: 425px; height: 89px;" border="1" cellpadding="2" cellspacing="2">

  <tbody>
    <tr>
      <td style="vertical-align: top; font-weight: bold;"><small>屬性名稱前置<br>
      </small></td>
      <td style="vertical-align: top; font-family: Courier New,Courier,monospace;"><small>javax.servlet.jsp.jstl.fmt.timeZone<br>
      </small></td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-weight: bold;"><small>Java常數<br>
      </small></td>
      <td style="vertical-align: top; font-family: Courier New,Courier,monospace;"><small>Config.FMT_TIMEZONE<br>
      </small></td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-weight: bold;"><small>設置型態<br>
      </small></td>
      <td style="vertical-align: top; font-family: Courier New,Courier,monospace;"><small>java.util.TimeZone或String<br>
      </small></td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-weight: bold;"><small>由哪個標籤設置<br>
      </small></td>
      <td style="vertical-align: top; font-family: Courier New,Courier,monospace;"><small>&lt;fmt:setTimeZone&gt;<br>
      </small></td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-weight: bold;"><small>被哪些標籤使用<br>
      </small></td>
      <td style="vertical-align: top; font-family: Courier New,Courier,monospace;"><small>&lt;fmt:formatDate&gt;、 &lt;fmt:parseDate&gt;<br>
      </small></td>
    </tr>
  </tbody>
      </table>

      <br>


      <small>下圖為範例的執行結果：<br>
      <img style="width: 395px; height: 112px;" alt="" src="images/FormatTag-1.png"><br>
      <br>
接著來看一些數字格式化的例子：<br>
      </small>
      <pre>&lt;%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;<br>&lt;%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%&gt;<br>&lt;jsp:useBean id="now" class="java.util.Date"/&gt;<br>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" <br>  "http://www.w3.org/TR/html4/loose.dtd"&gt;<br>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta http-equiv="Content-Type"<br>                content="text/html; charset=UTF-8"&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;fmt:formatNumber value="12345.678"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678" type="currency"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678"<br>                          type="currency" currencySymbol="新台幣"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678" type="percent"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678" pattern="#,#00.0#"/&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt; <br></pre>
      <small><span style="font-family: Courier New,Courier,monospace;">
      <br>
&lt;fmt:formatNumber&gt;預設用來格式化數定，可根據不同的地區設定來呈現不同的格式，這個範例並沒有指定地區設定，所以會根據瀏覽器的Accept-Language標頭來決定地區。<br>
      <br>
type屬性可設定的值有"number"（預設）、"currency"、"percent"，指定"currency"時會將數字依貨幣格式進行格式
化，currencySymbol屬性可指定貨幣符號，type指定為"percent"時，會以百分比格式進行格式化，也可以指定pattern屬性，
指定格式的方式與java.text.DecimalFormat的說明相同，可參考DecimalFormat的</span>API<span style="font-family: Courier New,Courier,monospace;">文件說明。<br>
      <br>
下圖為範例的執行結果：<br>
      <img style="width: 390px; height: 104px;" alt="" src="images/FormatTag-2.png"><br>
      <br>
&lt;fmt:parseDate&gt;與&lt;fmt:parseNumber&gt;則是用來剖析日期，可以在value屬性上指定要被剖析的數值，可以依指定的格式將數值剖析為原有的日期、時間或數字型態。<br>
      <br>
格式化標籤會使用&lt;fmt:bundle&gt;標籤指定的地區資訊，格式化標籤也會設法在可取得的LocalizationContext中尋找
地區資訊（例如使用&lt;fmt:setLocale&gt;設定），如果格式化標籤無法從LocalizationContext取得地區資訊，則會
自行建立地區資訊，具體來說，格式化標籤尋找地區資訊的順序是：<br>
      </span></small>
      <ol>
        <li><small><span style="font-family: Courier New,Courier,monospace;">使用&lt;fmt:bundle&gt;指定的地區資訊</span></small></li>
        <li><small><span style="font-family: Courier New,Courier,monospace;">尋找LocalizationContext中的地區資訊，也就是屬性範圍中有無javax.servlet.jsp.jstl.fmt.localizationContext屬性（參考先前7.3.2與表8.8及相關說明）</span></small></li>
        <li><small><span style="font-family: Courier New,Courier,monospace;">使用瀏覽器Accept-Language標頭指定的偏好地區</span></small></li>
        <li><small><span style="font-family: Courier New,Courier,monospace;">使用後備地區資訊（參考</span></small><small><big><a href="LocaleTag.html"><small>地區標籤</small></a></big> </small><small><span style="font-family: Courier New,Courier,monospace;">相關說明）</span></small></li>
      </ol>
      <small><span style="font-family: Courier New,Courier,monospace;"><br>
接著來看一些搭配地區設定的例子：<br>
      </span></small><small><span style="font-family: Courier New,Courier,monospace;"></span></small>
      <pre>&lt;%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%&gt;<br>&lt;%@taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%&gt;<br>&lt;jsp:useBean id="now" class="java.util.Date"/&gt;<br>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" <br>  "http://www.w3.org/TR/html4/loose.dtd"&gt;<br>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta http-equiv="Content-Type"<br>                content="text/html; charset=UTF-8"&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;fmt:setLocale value="zh_TW"/&gt;<br>        &lt;fmt:formatDate value="${now}" type="both"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678" type="currency"/&gt;&lt;br&gt;<br>        &lt;fmt:setLocale value="en_US"/&gt;<br>        &lt;fmt:formatDate value="${now}" type="both"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678" type="currency"/&gt;&lt;br&gt;<br>        &lt;fmt:setLocale value="ja_JP"/&gt;<br>        &lt;fmt:formatDate value="${now}" type="both"/&gt;&lt;br&gt;<br>        &lt;fmt:formatNumber value="12345.678" type="currency"/&gt;&lt;br&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;  <br></pre>
      <small><span style="font-family: Courier New,Courier,monospace;">
      </span><br>
下圖為範例的執行結果：<br>
      <img style="width: 321px; height: 119px;" alt="" src="images/FormatTag-3.png"><br>
<br>
      <br>

      </small></td>

    </tr>

  </tbody>
</table>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Encoding/FormatTag.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:08:01 GMT -->
</html>