<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from openhome.cc/Gossip/JSF/ConfigNavigationRule.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:18:11 GMT -->
<head>






  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">






  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">






  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">






  
  
  
  
  
  
  <title>導航規則設置</title>
</head>


<body>






<h3><a href="../index.html">From
Gossip@Openhome</a></h3>






<h1><a href="index-2.html">JSF Gossip:&nbsp;導航規則設置 </a></h1>


<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">


  <tbody>


    <tr>


      <td style="width: 250px; text-align: center; vertical-align: top;"><comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>&nbsp;
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>




      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>




      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>




      <br>



      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>




 </td>


      <td style="vertical-align: top; width: 690px; text-align: left;">
      <small>




在JSF中是根據faces-config.xml中&lt;navigation-rule&gt;設定，以決定在符合的條件成立時，該連結至哪一個頁面，一個基本的設定如下：<br>

      </small>




      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">....</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;navigation-rule&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/pages/index.jsp&lt;/from-view-id&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;success&lt;/from-outcome&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/pages/welcome.jsp&lt;/to-view-id&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;failure&lt;/from-outcome&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/pages/index.jsp&lt;/to-view-id&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;/navigation-rule&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br>


      </small></div>


      <small><br>






對於JSF，每一個視圖（View）都有一個獨特的識別（identifier），稱之為View ID，在JSF中的View
ID是從Web應用程式的環境相對路徑開始計算，設定時都是以/作為開頭，如果您請求時的路徑是/pages/index.faces，則JSF會將副檔
名改為/pages/index.jsp，以此作為view-id。<br>

      <br>


在&lt;navigation-rule&gt;中的&lt;from-view-id&gt;是個選擇性的定義，它規定了來源頁面的條件，&lt;
navigation-case&gt;中定義各種導覽條件，&lt;from-outcome&gt;定義當表單結果符合的條件時，各自改導向哪一個目
的頁面，目的頁面是在&lt;to-view-id&gt;中定義。<br>

      <br>


您還可以在&lt;navigation-case&gt;中加入&lt;from-action&gt;，進一步規範表單結果必須根據哪一個動作方法（action method），當中是使用 <a href="JSFExpressionLanguage.htm">JSF Expression Language</a> 來設定，例如：<br>

      </small>


      
      <div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/pages/index.jsp&lt;/from-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-action&gt;#{user.verify}&lt;/from-action&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;success&lt;/from-outcome&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/pages/welcome.jsp&lt;/to-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;/navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;....</span><br>


      </small></div>


      <small><br>


在導航時，預設都是使用forward的方式，您可以在&lt;navigation-case&gt;中加入一個&lt;redirect/&gt;，讓JSF發出讓瀏覽器重新導向（redirect）的header，讓瀏覽器主動要求新網頁，例如：<br>

      </small>
      
      <div style="margin-left: 40px; text-align: left;"><small><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/pages/index.jsp&lt;/from-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;success&lt;/from-outcome&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/pages/welcome.jsp&lt;/to-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;redirect/&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;/navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;....</span><br>


      </small></div>


      <small><br>


您的來源網頁可能是某個特定模組，例如在/admin/下的頁面，您可以在&lt;from-view-id&gt;中使用wildcards，也就是使用 * 字元，例如：<br>

      </small>
      
      <div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/admin/*&lt;/from-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-action&gt;#{user.verify}&lt;/from-action&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-outcome&gt;success&lt;/from-outcome&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;to-view-id&gt;/pages/welcome.jsp&lt;/to-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;/navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">


      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;....</span><br>


      </small></div>


      <small><br>


在上面的設定中，只要來源網頁是從/admin來的，都可以開始測試接下來的&lt;navigation-case&gt;。<br>

      <br>


&lt;from-view-id&gt;如果沒有設定，表示來源網頁不作限制，您也可以使用 * 顯式的在定義檔中表明，例如：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">....</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;navigation-rule&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;/*&lt;/from-view-id&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;/navigation-rule&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br>


      </small></div>


      <small><br>


或者是這樣：<br>

      </small>
      
      <div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">

      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">

      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;from-view-id&gt;*&lt;/from-view-id&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">

      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;navigation-case&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">

      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">

      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;/navigation-rule&gt;</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">

      <span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;....</span></small>





      <br>


      </div>

      </td>


    </tr>


  
  </tbody>
</table>


<br>

<br>


<br>






<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>

<!-- Mirrored from openhome.cc/Gossip/JSF/ConfigNavigationRule.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:18:11 GMT -->
</html>
