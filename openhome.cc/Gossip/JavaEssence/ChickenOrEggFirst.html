<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/JavaEssence/ChickenOrEggFirst.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:57 GMT -->
<head>

  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">

  <link rel="stylesheet" href="css/print.css" type="text/css">

  <meta content="text/html; charset=Big5" http-equiv="content-type">
  <title>雞生蛋？蛋生雞？</title></head>
<body>

<h3><a href="../index.html">From
Gossip@Openhome</a></h3>

<h1><a href="index-2.html">Java Essence: 雞生蛋？蛋生雞？</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="width: 250px; text-align: center; vertical-align: top;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><br>

      <br>

      <center>
       <br>

      </center>

      </td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>在<big> </big></small><small><big><a href="WhichJRE.html"><small>你執行的是哪個 JRE？</small></a> </big>中有提到一段：</small><small><span style="font-weight: bold;">JDK中多數工具程式，本身就是用Java寫的。</span><br><br>很有趣不是嗎？Java原始碼需要編譯器編譯為.class檔，而這邊卻跟你說Java編譯器是Java寫的？這不是雞生蛋還是蛋生雞的問題嗎？是先有Java編譯器，還是先用Java寫個編譯器？<br><br>答案是先有原生編譯器，一開始編譯器是可能使用C寫的，而後用Java程式碼寫個編譯器，用原生編譯器來編譯Java寫的編譯器，然後就有了Java版的編譯器。事實上，<span style="font-weight: bold;">JDK多數的工具程式，都是使用Java語言所撰寫的。</span><br><br>但以Windows為例，你在JDK的bin目錄中，所看到的不是.exe的原生可執行檔嗎？其實那些都是假貨，或正確的來說，那些都是方便你不用輸入一長串指令，以作業系統原生執行檔包裹的<span style="font-weight: bold;">包裹器（Wrapper）。真正的編譯器等工具程式，其實是位於JDK目錄底下lib目錄中的tools.jar。<br><br></span>舉個例子來說，如果你的PATH是指向JDK的bin目錄，當你鍵入javac指令時，一開始是由作業系統依PATH找到javac可執行檔，而後該可執行檔依所包裹的真正指令與引數，呼叫、載入、執行tools.jar中對應的.class檔案。<br><br>你可以將tools.jar更名為任意名稱，例如tools_back.jar，而再度執行javac指令時，會出現以下的錯誤訊息：<br><img style="width: 669px; height: 257px;" alt="" src="images/ChickenEggFirst-1.jpg"><br><br><span style="font-weight: bold;">真正Java編譯器的程式進入點，其實是在com.sun.tools.javac.Main這個類別。</span>執行javac時，其實javac可執行檔所包裹的指令，相當於：<br></small><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">java -cp "C:\Program Files\Java\jdk1.6.0_13\lib\tools.jar" com.sun.tools.javac.Main</span></small><br><small><br>你可以將方才更名的檔案復原為tools.jar，自行執行以下的指令，就會看到直接鍵入javac時的結果：<br><img style="width: 669px; height: 257px;" alt="" src="images/ChickenEggFirst-2.jpg"><br><br>Java本身的目標之一是跨平台，其許多工具程式本身就實現了這個理念，也因為許多工具程式本身是Java所撰寫，因此JDK本身必須附帶Private JRE，如此即使在沒有另行安裝Public JRE的情況下，也可以執行JDK相關工具程式。<br><br><br><br><span style="font-weight: bold;"><br></span></small></td>

    </tr>

  </tbody>
</table>

<br>

<br>

<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
<!-- Mirrored from openhome.cc/Gossip/JavaEssence/ChickenOrEggFirst.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:12:01 GMT -->
</html>