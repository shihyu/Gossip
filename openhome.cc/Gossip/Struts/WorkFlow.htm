<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Struts/WorkFlow.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:20:20 GMT -->
<head>











  
  
  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">











  
  
  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">











  
  
  
  
  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">











  
  
  
  
  
  
  
  
  
  
  
  <title>Struts 基本工作流程</title></head>

<body>











<h3><a href="../index.html">From
Gossip@Openhome</a></h3>











<h1><a href="index-2.html">Struts Gossip: Struts 基本工作流程</a></h1>



<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">



  <tbody>



    <tr>



      <td style="width: 676px; vertical-align: top;"><small> 








在 <a href="http://struts.apache.org/">Struts</a> 對 <a href="MVCPattern.htm">MVC</a> / <a href="Model2Pattern.htm">Model 2</a> 的實現方式中，擔任Front Controller角色的是<span style="font-weight: bold;">org.apache.struts.action.ActionServlet</span>，它繼承自 javax.servlet.http.HttpServlet，使用ActionServlet，在web.xml中配置相關的組態，就如同配置一般的Servlet一樣，您也可以配置一些相關的初始參數給ActionServlet使用。<br>

      <br>



在MVC/Model 2的架構中，理想上客戶端不會直接要求資源或指定請求的JSP頁面，所有客戶的請求都必須發送至Controller，由Controller決定該轉發給哪一個物件進行處理、決定該由哪一個View頁面進行顯示與回應。<br>

      <br>



在Struts中，擔任Front Controller的是ActionServlet，所有的請求都發送給ActionServlet，對於
ActionServlet來說，doGet()會調用doPost()，所以無論請求是GET或POST在行為上都是相同的。ActionServlet藉由組態檔<span style="font-weight: bold;">struts- config.xml</span>知
道如何分配物件來處理請求，這包括了org.apache.struts.action.ActionMapping、
org.apache.struts.action.ActionForm、org.apache.struts.action.Action等物件的分
配，struts-config.xml是整個Struts運作的重心。<br>

      <br>



ActionServlet會將處理的控制權暫時交給Action物件，在Action中，您可以藉由一些資料傳輸物件（Data Transfer
Object）、輔助類別（Helper
Class）等Model來完成商務請求，Struts使用JSP/Servlet的setAttribute()和
getAttribute()方法來與View進行溝通。Action應當傳回ActionForward物件給ActionServlet，之後
ActionServlet根據 ActionForward中的資訊來進行forward或include
View的動作，由View抽取Model資料並顯示處理的結果。<br>

      <br>



Struts的View部份可以是靜態網頁、JSP網頁、Struts自訂標籤，Struts自訂標籤可以與Struts的一些物件及資源檔案合作使用，也配合使用其它自訂標籤，像是JSTL、JSF等。<br>

      <br>



在<span style="font-weight: bold;">Struts 1.1</span>後新增<span style="font-weight: bold;">org.apache.struts.action.RequestProcessor</span>類
別，有關於使用者請求的物件分配等動作已經大部份交由RequestProcessor來處理，下圖是ActionServlet接收到請求之後的一些主
要動作，在之後的各主題說明中，您可以藉由這張圖您將可以瞭解struts-config.xml的組態設定意義，以及Struts運作的方式： </small>

      

      

      

      

      

      <br>











      <img style="width: 717px; height: 975px;" alt="Struts 工作流程" title="Struts 工作流程" src="images/strutsWorkflow.jpg"><br>


 </td>



      <td style="width: 250px; text-align: center; vertical-align: top;">
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>



      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>



      <br>


      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>



 </td>



    </tr>



  
  
  </tbody>
</table>



<br>


<br>











<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
<!-- Mirrored from openhome.cc/Gossip/Struts/WorkFlow.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:20:23 GMT -->
</html>