<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/Array.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:22 GMT -->
<head>















  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>陣列</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">JavaScript Essence: 陣列<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
<script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center></center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;">
      <div style="text-align: right;"><small><a href="http://openhome.cc/eGossip/JavaScript/Array.html">English</a></small></div>
      <small><br>
陣列是記憶體中線性的連續資料，<span style="font-weight: bold;">在JavaScript中，並沒有實際的陣列，而是以物件來模擬出</span></small><small style="font-weight: bold;">相似的</small><small><span style="font-weight: bold;">操作外觀。</span>如果你要在JavaScript中建立<span style="font-weight: bold;">所謂的陣列</span>（以下還是先簡稱陣列），可以使用<span style="font-family: Courier New,Courier,monospace;">Array</span>建構。例如：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">






        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array1 = new Array();<br>
js&gt; array1.length;<br>
</span>0<span style="font-weight: bold;"><br>
js&gt; var array2 = new Array(10);<br>
js&gt; array2.length;<br>
            </span>10<span style="font-weight: bold;"><br>
js&gt; var array3 = new Array(10, 20, 30);<br>
js&gt; array3.length;<br>
            </span>3<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>

      <small><br>
      <span style="font-family: Courier New,Courier,monospace;">上面示範了三種Array建構的方式，第一種方式建構出沒有任何元素的陣列，第二種方式建構出長度為10的陣列，每個索引位置（0到9）都是undefined，第三種方式則建構出內含三個元素的陣列，索引0開始分別是10、20、30。</span><br></small><br>
      <small>實際上，很少人會直接使用<span style="font-family: Courier New,Courier,monospace;">Array</span>建構陣列，而會使用陣列實字（Array literal）。例如：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">







        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array1 = [];<br>
js&gt; array1.length;<br>
</span>0<span style="font-weight: bold;"><br>
js&gt; var array2 = [];<br>
js&gt; array2.length = 10;<br>
            </span>10<span style="font-weight: bold;"><br>
js&gt; array2.length;<br>
            </span>10<span style="font-weight: bold;"><br>
js&gt; var array3 = [10, 20, 30];<br>
js&gt; array3.length;<br>
            </span>3<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>


      <small><br>
你並沒有看錯，在JavaScript中，<span style="font-family: Courier New,Courier,monospace;">Array建立的實例，length特性是可讀可寫的</span>。例如：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">








        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array = [1, 2, 3];<br>
js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
&nbsp; &gt; }<br>
</span>1<br>
2<br>
3<span style="font-weight: bold;"><br>
js&gt; array.length = 5;<br>
            </span>5<span style="font-weight: bold;"><br>
js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
&nbsp; &gt; }<br>
            </span>1<span style="font-weight: bold;"><br>
            </span>2<br>
3<br>
undefined<br>
undefined<br>
            <span style="font-weight: bold;">js&gt; array.length = 2;<br>
            </span>2<span style="font-weight: bold;"><br>
js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
&nbsp; &gt; }<br>
            </span>1<br>
2<br>
            <span style="font-weight: bold;">js&gt; array.length = 3;<br>
            </span>3<span style="font-weight: bold;"><br>
js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
&nbsp; &gt; }<br>
            </span>1<br>
2<br>
undefined<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>



      <small><small><br>
      </small><span style="font-family: Courier New,Courier,monospace;">在上面的例子中，陣列原本的長度為3，後來設定length為5，索引3與4的部份沒有元素，所以是undefined，將length設為2時，原本索引2的資料就沒了，就算設回3也找不回來了。<br>
      <br>
      </span></small><small>陣列是記憶體中線性的連續資料，在JavaScript中，並沒有實際的陣列，而是以物件來模擬出</small><small>相似的</small><small>操作外觀，事實上，用<span style="font-family: Courier New,Courier,monospace;">Array</span>建構出的物件，索引其實就是以代表數字的特性罷了，事實上索引指定方式也可以用字串，只要它代表數字：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">









        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array = [1, 2, 3];<br>
js&gt; array['0'];<br>
</span>1<span style="font-weight: bold;"><br>
js&gt; array['1'];<br>
            </span>2<span style="font-weight: bold;"><br>
js&gt; array['2'];<br>
            </span>3<span style="font-weight: bold;"><br>
js&gt; for(var i in array) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(i);<br>
&nbsp; &gt; }<br>
            </span>0<br>
1<br>
2<br>
js&gt; delete array[1];<br>
true<br>
js&gt; array;<br>
            <span style="font-weight: bold;">1,,3</span><br>
            <span style="font-weight: bold;">js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>




      <small><small><small><br>
</small></small>也因此，因為索引其實就是陣列物件上的特性，你也可以用<span style="font-family: Courier New,Courier,monospace;">delete</span>刪除陣列中的元素，也因此，你可以輕易地使用普通物件，來模擬出陣列的操作外觀：<br>
      </small><small></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">










        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var obj = {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; '0' : 100,<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; '1' : 200,<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; '2' : 300,<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; length : 3<br>
&nbsp; &gt; };<br>
js&gt; for(var i = 0; i &lt; obj.length; i++) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(obj[i]);<br>
&nbsp; &gt; }<br>
</span>100<br>
200<br>
300<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>





      <small><small><small><small><br>
</small></small></small>在JavaScript中如上模擬出所謂的陣列，是非常普遍的應用。那麼，建<span style="font-family: Courier New,Courier,monospace;">構Array實例，或者說使用陣列實字建構陣列的好處是什麼？當然是為了擁有Array已定義的行為，例如自動依元素內容來調整length：</span></small><small><br>
      </small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">











        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array = [];<br>
js&gt; array.length;<br>
</span>0<span style="font-weight: bold;"><br>
js&gt; array[0] = 100;<br>
            </span>100<span style="font-weight: bold;"><br>
js&gt; array.length;<br>
            </span>1<span style="font-weight: bold;"><br>
js&gt; array[1] = 200;<br>
            </span>200<span style="font-weight: bold;"><br>
js&gt; array.length;<br>
            </span>2<span style="font-weight: bold;"><br>
js&gt; array[10] = 900;<br>
            </span>900<span style="font-weight: bold;"><br>
js&gt; array.length;<br>
            </span>11<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>






      <small><small><small><small><small><br>
</small></small></small></small><span style="font-family: Courier New,Courier,monospace;">陣列的長度隨時可以增加或減少，指定索引元素時也不一定要連續指定，例如上例中，直接指定了索引10為900，其它未指定的2到9索引處，全都是undefined（就像沒有2到9的特性名稱罷了），在</span>JavaScript<span style="font-family: Courier New,Courier,monospace;">中，也沒有所謂陣列超出索引的問題，例如上例若指定array[10000]，充其量就是傳回undefined。</span></small><br>
      <br>
      <small style="font-family: Courier New,Courier,monospace;">直接使用Array實例來進行陣列操作，還可以獲得Array上已定義的方法。例如：</small><small><br>
      </small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">












        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array = [100, 200, 300];<br>
js&gt; array.forEach(function(element) {<br>
&nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(element);<br>
&nbsp; &gt; });<br>
</span>100<br>
200<br>
300<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>







      <small><small><small><small><small><small><br>
</small></small></small></small></small><span style="font-family: Courier New,Courier,monospace;">forEach是Array</span>所提供的方法，可以指定函式，陣列中每個元素</small><small>會作為引數</small><small>傳入函式，這是JavaScript風格的走訪陣列方式，在<span style="font-family: Courier New,Courier,monospace;">Array</span>中，有很多這類接受函式的方法（關於傳入函式這類用法的說明，之後說明函式時還會談到）。<br>
      <br>
      <span style="font-family: Courier New,Courier,monospace;">再來示範一下Array上的push()與pop()：</span></small><small><br>
      </small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">













        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">js&gt; var array = [];<br>
js&gt; array.push(100);<br>
</span>1<span style="font-weight: bold;"><br>
js&gt; array.push(200);<br>
            </span>2<span style="font-weight: bold;"><br>
js&gt; array.push(300);<br>
            </span>3<span style="font-weight: bold;"><br>
js&gt; array;<br>
            </span>100,200,300<span style="font-weight: bold;"><br>
js&gt; array.pop();<br>
            </span>300<span style="font-weight: bold;"><br>
js&gt; array;<br>
            </span>100,200<span style="font-weight: bold;"><br>
js&gt; array.pop();<br>
            </span>200<span style="font-weight: bold;"><br>
js&gt; array;<br>
            </span>100<span style="font-weight: bold;"><br>
js&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td></tr></tbody>
      
      </table>








      <small><small><small><small><small><small><br>
</small></small></small></small></small>更多陣列上的方法操作，可參考：</small><br>
      <ul>
        <li><a href="http://www.aptana.com/reference/html/api/Array.html"><small>Array</small></a></li>
      </ul>
      <small><span style="font-family: Courier New,Courier,monospace;"><br>
      </span></small><small><a href="http://openhome.cc/eGossip/JavaScript/Array.html"></a><br>
      <br>
      </small>
</td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/Array.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:22 GMT -->
</html>