<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/BuildEventLibrary.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:32 GMT -->
<head>















  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>封裝事件處理</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">JavaScript Essence: 封裝事件處理<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center> </center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;">
      <div style="text-align: right;"><a href="http://openhome.cc/eGossip/JavaScript/EventLibrary.html"><small>English</small></a><br>
      </div>
      <small><br>
繼續</small> <small><a href="BrowserIndependentEvent.html">跨瀏覽器事件處理</a> 的內容，如果想將事件處理的封裝與 </small><small><a href="BuildDOMLibrary.html">封裝 DOM 操作</a> 中的程式結合。可以如下：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace; font-weight: bold;">(function(global) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; var XD = function(selector, container) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new XD.mth.init(selector, container);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; </small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; var utils = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      </small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;"></small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; </small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; XD.Event = function(original) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!this.stopPropagation) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return new XD.Event(original);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 複製特性</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.original = original;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.type = original.type;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.target = original.target || original.srcElement;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // .. 標準化其它特性</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; </small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; XD.Event.prototype = {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; stopPropagation: function() {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(this.original.stopPropagation) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.original.stopPropagation();</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; this.original.cancelBubble = true;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 標準化其它方法</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; // 建立bind與unbind公用函式<br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      </small><small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; if(document.addEventListener) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utils.bind = function(element, eventType, handler) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element.addEventListener(eventType, function(event) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
var result = handler.call(event.currentTarget, XD.Event(event));</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(result === false) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
event.preventDefault();</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, false);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utils.unbind = function(element, eventType, handler) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element.removeEventListener(eventType, handler, false);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; else if(document.attachEvent) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utils.bind = function(element, eventType, handler) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element.attachEvent('on' + eventType, function() {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
var result = handler.call(element, XD.Event(window.event));</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(result === false) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
window.event.returnValue = false;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return result;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utils.unbind = function(element, eventType, handler) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element.detachEvent(eventType, handler);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp; </small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; function extend(target, source) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; utils.each(source, function(value, key) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; target[key] = value;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; }</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; ...</small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;"></small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; </small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; XD.mth = XD.prototype = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>
      <span style="color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 包裹器上的bind方法</span><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      </small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;"></small><small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bind: function(eventType, handler) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return XD.each(this, function(element) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XD.bind(element, eventType, handler);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>
      </small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;"><span style="color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 包裹器上的unbind方法</span></small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unbind: function(eventType, handler) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return XD.each(this, function(element) {</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XD.unbind(element, eventType, handler);</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<br>
      </small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;"><span style="color: red;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 註冊click事件時方便的click方法</span></small><br style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;"><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <small style="color: red;">click: function(handler) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return this.bind('click', handler);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small></span></span><small style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 其它註冊xxx事件時方便的xxx方法<br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      </small><small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; };</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; </small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; XD.mth.init.prototype = XD.mth;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">&nbsp;&nbsp; global.XD = XD;</small><br style="font-family: Courier New,Courier,monospace; font-weight: bold;">
      <small style="font-family: Courier New,Courier,monospace; font-weight: bold;">})(this);</small><br>
      </div>
      <br>
      <small>事件處理存在著許多跨瀏覽器的差異性，這邊僅示範基本的封裝概念，完成的程式庫如下：<br>
      </small>
      <ul>
        <li><a href="samples/js/gossip-0.3.js"><small>gossip-0.3.js</small></a></li>
      </ul>
      <small><br>
利用以上的程式庫，可以改寫 </small><small><a href="BuildDOMLibrary.html">封裝 DOM 操作 </a>中第一個範例：<br>
      </small>
      <ul>
        <li><a href="samples/BuildEventLibrary-1.html"><small>BuildEventLibrary-1.html</small></a></li>
      </ul>
      <pre>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;<br>        &lt;script type="text/javascript" src="js/gossip-0.3.js"&gt;&lt;/script&gt;<br>        &lt;script type="text/javascript"&gt;<br>            XD.bind(window, 'load', function() {<br>                XD('#add').click(function() {<br>                    XD('&lt;img&gt;')<br>                        .attr('src', XD('#src').val())<br>                        .click(function(event) {<br>                            XD(this).remove();<br>                        })<br>                        .appendTo('#images');<br>                });<br>                <br>            });<br>        &lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;input id="src" type="text"&gt;&lt;button id="add"&gt;新增圖片&lt;/button&gt;<br>        &lt;div id="images"&gt;&lt;/div&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></pre>
      <small><br>
      </small><small>可以改寫 </small><small><a href="BuildDOMLibrary.html">封裝 DOM 操作 </a>中第二個範例：<br>
      </small>
      <ul>
        <li><a href="samples/BuildEventLibrary-2.html"><small>BuildEventLibrary-2.html</small></a></li>
      </ul>
      <pre>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;<br>        &lt;script type="text/javascript" src="js/gossip-0.3.js"&gt;&lt;/script&gt;<br>        &lt;script type="text/javascript"&gt;<br>            XD.bind(window, 'load', function() {<br>                var container1XD = XD('#container1');<br>                var container2XD = XD('#container2');<br>                XD('#image').click(function() {<br>                    if(this.parentNode === container1XD[0]) {<br>                        container2XD.append(this);<br>                    }<br>                    else {<br>                        container1XD.append(this);<br>                    }                <br>                });<br>            });<br>        &lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        容器一：&lt;div id="container1"&gt;<br>        &lt;img id="image" src=<br>      "http://caterpillar.onlyfun.net/Gossip/images/caterpillar_small.jpg"/&gt;<br>                &lt;/div&gt;&lt;br&gt;<br>        容器二：&lt;div id="container2"&gt;&lt;/div&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></pre>
      <small><br>
      </small><br>
</td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/BuildEventLibrary.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:33 GMT -->
</html>