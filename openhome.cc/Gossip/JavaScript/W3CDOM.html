<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/W3CDOM.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:25 GMT -->
<head>






























  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>W3C DOM 簡介</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">JavaScript Essence: W3C DOM 簡介<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;">
      <div style="text-align: right;"><a href="http://openhome.cc/eGossip/JavaScript/W3CDOM.html">English</a><br>
      </div>
      <br>
<span style="font-family: Courier New,Courier,monospace;"></span><small>W3C聯合各瀏覽器廠商制訂了標準物件模型，試圖讓各瀏覽器廠商遵合此一模型進行實作，以解決各瀏覽器間物件模型不一致的問題，在新的物件模型中，也對文件操作的功能加以擴充。<br>
      </small><small><br>
簡單來說，在DOM的標準下，一份文件中所有的標籤定義，包括文字，都是一個物件，這些物件以文件定義的結構，形成了一個樹狀結構。例如：<br style="font-weight: bold;">
      </small>
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&lt;html&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;首頁&lt;/title&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;body&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h1&gt;Hello!World!&lt;/h1&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="Gossip/index.html"&gt;學習筆記&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br>
&lt;/html&gt;</span></small><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;"></span></small><br>
      </div>
      <small><br>
這份HTML文件，會形成以下樹狀的物件結構：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">document&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; (Document)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|-html&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; (HTMLHtmlElement)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
|-head&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(HTMLHeadElement)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;
|&nbsp;&nbsp;&nbsp;
|-title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(HTMLTitleElement)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|-首頁&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Text）<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; |<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
|body&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(HTMLBodyElement)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;
|-h1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(HTMLHeadingElement<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|&nbsp; |-Hello!World!&nbsp;&nbsp; (Text)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|-a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
(HTMLAnchorElement)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
|-學習筆記&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Text)<br>
      </span></small></div>
      <small><br>
上圖右邊的括號，表示每個物件的型態（在Firefox中）。<span style="font-family: Courier New,Courier,monospace;">注意，<span style="font-weight: bold;">document代表整個文件，而不代表html節點</span>，你可以使用document.childNodes[0]取得html元素，<span style="font-weight: bold;">childNodes</span>表示取得子節點，取回的會是NodeList物件，是個類似陣列的物件，可使用索引值來指定取得某個子節點。方便的<span style="font-weight: bold;">document.documentElement</span>也可用來取得html元素。如果想取得body元素，也可以透過<span style="font-weight: bold;">document.body</span>來取得。注意，文字也會形成樹狀結構中的元素。</span><br>
      <br>
儘管你在上面看到的元素形態，有許多都帶有<span style="font-family: Courier New,Courier,monospace;">HTML</span>字眼，但<span style="font-weight: bold; color: red;">DOM並非專屬於</span><span style="font-family: Courier New,Courier,monospace; font-weight: bold; color: red;">HTML</span><span style="font-weight: bold; color: red;">的物件模型</span>，DOM API分為兩部份，一個是<span style="font-weight: bold; color: red;">核心 DOM API</span>，一個是<span style="font-weight: bold; color: red;">HTML DOM API</span>。核心API是一個獨立的規範，可以任何語言實現，可操作的對象是基於XML的任何文件，你可以在這邊找到DOM核心API的相關資料：<br>
</small>
      <ul>
        <li><small><a href="http://www.w3schools.com/dom/default.asp">XML DOM Tutorial</a></small></li>
      </ul>
      <small><br>
HTML API是核心API的延伸，專門操作HTML，各種物件對應的形態，通常會有個<span style="font-family: Courier New,Courier,monospace;">HTML</span>字眼在前頭，你可以在這邊找到HTML </small><small>DOM </small><small>API的相關資料：<br>
      </small>
      <ul>
        <li><small><a href="http://www.w3schools.com/htmldom/default.asp">HTML DOM Tutorial</a></small></li>
      </ul>
      <small>
      <br><span style="font-weight: bold;">
核心API文件中所有內容都視為節點</span>，包括文件本身，再依類型區分出不同的形態：<br>
      </small>
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">Node</span></small><br>
      <small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp; |Document</span></small><br>
      <small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp; |Element</span></small><br>
      <small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp; |Text<br>
&nbsp;&nbsp; |Attr<br>
</span></small>
      <small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp; ...</span></small><br>
      <small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;"></span></small></div>
      <br>
      <small><span style="font-family: Courier New,Courier,monospace;">Document代表整份文件，<span style="font-weight: bold;">Element是所有標籤（也是節點）</span>，<span style="font-weight: bold;">Text代表文字元素</span></span><span style="font-weight: bold;">（也是節點）</span>，<span style="font-family: Courier New,Courier,monospace;">詳細的核心</span>DOM<span style="font-family: Courier New,Courier,monospace;">類型，可以在這邊找到：<br>
      </span></small>
      <div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace;"><a href="http://www.w3schools.com/dom/dom_nodetype.asp">http://www.w3schools.com/dom/dom_nodetype.asp</a></span></small><br>
      <small><span style="font-family: Courier New,Courier,monospace;"></span></small></div>
      <br>
      <small><span style="font-family: Courier New,Courier,monospace;"></span></small><a href="Level0DOM.html"><small>Level 0 DOM</small></a> <small>在<span style="font-family: Courier New,Courier,monospace;">window物件上有navigator、location、frames、screen、history</span></small><small style="font-family: Courier New,Courier,monospace;">等與瀏覽器相關的物件，<span style="font-weight: bold;">與文件相關的物件，實際上只有document</span><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">，功能也有限，這個部份</span></small><small><span style="font-weight: bold;">納入了DOM標準，成為了DOM的子集</span>，由於這些舊式API都是專屬於HTML，所以你在<span style="font-family: Courier New,Courier,monospace;"> <a href="http://www.w3schools.com/dom/dom_document.asp">Document</a> </span>的文件上看不到相關操作，而必須在 <span style="font-family: Courier New,Courier,monospace;"><a href="http://www.w3schools.com/jsref/dom_obj_document.asp">HTMLDocument</a> </span>這個專屬於HTML的DOM API上才可以找到。<br>
      <br>
      </small><small><span style="font-family: Courier New,Courier,monospace;">同樣地，Element</span>僅定義核心DOM API中元素的操作，而<span style="font-family: Courier New,Courier,monospace;">HTMLHeadElement等元素也有一些專屬HTML的API，這在 <a href="http://www.w3schools.com/dom/dom_element.asp">Element</a> 中找不到，而必須在 <a href="http://www.w3schools.com/jsref/dom_obj_all.asp">HTMLElement</a> 等相關類型中尋找。<br>
      <br>
</span></small><small style="font-family: Courier New,Courier,monospace;">每個節點都會有<span style="font-weight: bold;">nodeName</span>與<span style="font-weight: bold;">nodeType</span>特性，前者可以取得節點的名稱，後者可以取得節點型態常數，這個常數用來查找對應的型態名稱，常數與型態名稱的對照可在這篇文件的底下找到：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><a href="http://www.w3schools.com/dom/dom_nodetype.asp"><span style="font-weight: bold;">http://www.w3schools.com/dom/dom_nodetype.asp</span></a></small><br>
      </div>
      <small style="font-family: Courier New,Courier,monospace;"><br>
舉個來說，可以搭配</small><small>JavaScript</small><small style="font-family: Courier New,Courier,monospace;">，如下顯示出一個網頁的節點與型態</small><small style="font-family: Courier New,Courier,monospace;">：<br>
      </small>
      <ul>
        <li><a href="samples/W3CDOM-1.html"><small>W3CDOM-1.html</small></a></li>
      </ul>
      <span style="font-family: Courier New,Courier,monospace;"></span>
      <pre>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;<br>        &lt;script type="text/javascript"&gt;<br>            window.onload = function() {<br>                var typeNames = [<br>                    '',<br>                    '[ELEMENT_NODE]',<br>                    '[ATTRIBUTE_NODE]',<br>                    '[TEXT_NODE]',<br>                    '[CDATA_SECTION_NODE]',<br>                    '[ENTITY_REFERENCE_NODE]',<br>                    '[ENTITY_NODE]',<br>                    '[PROCESSING_INSTRUCTION_NODE]',<br>                    '[COMMENT_NODE]',<br>                    '[DOCUMENT_NODE]',<br>                    '[DOCUMENT_TYPE_NODE]',<br>                    '[DOCUMENT_FRAGMENT_NODE]',<br>                    '[NOTATION_NODE]'<br>                ];<br>                <br>                function list(parent, indent) {<br>                    var nodes = parent.childNodes;<br>                    var tree = [];<br>                    for(var i = 0; i &lt; nodes.length; i++) {<br>                        tree.push(indent + nodes[i].nodeName + <br>                                  typeNames[nodes[i].nodeType] + '&lt;br&gt;');<br>                        tree.push(list(nodes[i], '　　' + indent));<br>                    }<br>                    return tree.join('');<br>                }<br>                <br>                document.getElementById('console').innerHTML = <br>                   'document' + typeNames[document.nodeType] + <br>                   '&lt;br&gt;' + list(document, '　　');<br>            };<br>        &lt;/script&gt;<br>        &lt;title&gt;首頁&lt;/title&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;h1&gt;Hello!World!&lt;/h1&gt;<br>        &lt;a href="http://caterpillar.onlyfun.net/Gossip/"&gt;學習筆記&lt;/a&gt;<br>        &lt;div id="console"&gt;&lt;/div&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></pre>
      <br>
      <small style="font-weight: bold;">有趣的是，那些在標籤中用來換行與縮排的文字，在Firefox中亦視為文字節點，但Internet Explorer中卻不是，所以你在兩個瀏覽器中會看到不同的結果</small><small><span style="font-weight: bold;">。</span><br>
      <br>
      </small><br>
</td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/W3CDOM.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:25 GMT -->
</html>