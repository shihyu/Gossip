<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from openhome.cc/Gossip/Qt3Gossip/QGrid.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:22:30 GMT -->
<head>









  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">









  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">









  
  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">








  
  
  
  
  
  
  
  
  <title>QGrid 版面配置</title>
</head>


<body>









<h3><a href="../index.html">From
Gossip@Openhome</a></h3>









<h1><a href="index.html">Qt3 Gossip: QGrid 版面配置</a></h1>









<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">









  <tbody>









    <tr>









      <td style="width: 676px; vertical-align: top;"> <small>設計視窗程式的人都知道，在視窗程式中最麻煩也最難的就是版面配置，每次都為了元件的位置擺放在傷腦筋，所以視窗程式的解決方案都會提供一些現成的版面配置方式，在這邊我們介紹QGrid版面配置，它會如同棋盤般排列Widget，首先我們撰寫以下的程式： </small><small></small><br>



      
      
      
      <pre>#include &lt;qapplication.h&gt;<br>#include &lt;qgrid.h&gt;<br>#include &lt;qlabel.h&gt;<br><br>class MyWidget : public QGrid {<br>public:<br>    MyWidget(int n, QWidget *parent=0, const char *name=0);<br>};<br><br>MyWidget::MyWidget(int n, QWidget *parent, const char *name)<br>        : QGrid(n, parent, name) {<br>    const QString texts[] = {"one", "two", "three",<br>                             "four", "five", "six",<br>                             "seven", "eight", "nine"};<br>    QLabel *label;<br><br>    setSpacing(2);<br>    setMargin(2);<br><br>    for(int i = 0; i &lt; 9; i++) {<br>        label = new QLabel(texts[i], this, "label");<br>        label-&gt;setMinimumSize(55, 0);<br>        label-&gt;setAlignment(Qt::AlignCenter);<br>        label-&gt;setFrameStyle(QFrame::Panel + QFrame::Sunken);<br>    }<br>}<br><br>int main(int argc, char **argv) {<br>    QApplication app(argc, argv);<br><br>    MyWidget wm(3);<br><br>    wm.resize(150, 100);<br>    app.setMainWidget(&amp;wm);<br>    wm.show();<br><br>    return app.exec();<br>}</pre>



      <small><br>



以上的寫法是直接繼承QGrid類別，相信您大致也可以看出如何使用QGrid類別，我們解釋必要的程式碼部份，首先，</small><small>設定每一個Grid的空間與彼此之間的邊界：</small><br style="font-weight: bold;">



      
      
      
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">setSpacing(2); </span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">



      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">setMargin(2); </span></small><br>



      </div>



      <small><br>



      </small><small>利用迴圈將QLabel元件加入QGrid，由於我們繼承了QGrid，所以父類別指定為this，也就是目前的類別，QLabel會由左而右、由上而下依序加入QGrid中，我們設定了QLabel的最小尺寸、顯示位向與樣式：</small><br style="font-weight: bold;">



      
      
      
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">for(int i = 0; i &lt; 9; i++) { </span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">



      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; label = new QLabel(texts[i], this, "label"); </span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">



      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; label-&gt;setMinimumSize(55, 0); </span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">



      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; label-&gt;setAlignment(Qt::AlignCenter); </span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">



      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; label-&gt;setFrameStyle(QFrame::Panel + QFrame::Sunken); </span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">



      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">} </span></small><br>



      </div>



      <small><br>



      <br>



      </small><small>在這個例子中，3是傳遞給QGrid的，我們的QGrid會包括3x3個Grid：</small><br>



      
      
      
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">MyWidget wm(3); </span></small><br>



      </div>



      <small><br>



      </small><small>就這個程式而言，不使用自訂Widget的方法的話，也可以如下撰寫： </small><br>



      
      
      
      <pre>#include &lt;qapplication.h&gt;<br>#include &lt;qgrid.h&gt;<br>#include &lt;qlabel.h&gt;<br><br>int main(int argc, char **argv) {<br>    QApplication app(argc, argv);<br><br>    QGrid grid(3);<br>    QLabel *label;<br>    const QString texts[] = {"one", "two", "three",<br>                             "four", "five", "six",<br>                             "seven", "eight", "nine"};<br><br>    grid.resize(150, 100);<br>    grid.setSpacing(2);<br>    grid.setMargin(2);<br><br>    for(int i = 0; i &lt; 9; i++) {<br>        label = new QLabel(texts[i], &amp;grid);<br>        label-&gt;setFrameStyle(QFrame::Panel + QFrame::Sunken);<br>        label-&gt;setMinimumSize(55, 0);<br>        label-&gt;setAlignment(Qt::AlignCenter);<br>    }<br><br>    app.setMainWidget(&amp;grid);<br>    grid.show();<br><br>    return app.exec();<br>}<br></pre>



      <small><br>



下圖是程式的執行結果： <br>



      </small><span class="postbody"><img style="width: 181px; height: 127px;" alt="" src="images/QGrid-1.jpg"><br>



      <br>



      <br>








      </span> </td>









      <td style="width: 250px; text-align: center; vertical-align: top;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
      <br>
      <br>
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>





      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>





      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>





      <br>




      
      
      
      
      <center>
      
      
      
      
       <br>





      </center>





 </td>









    </tr>









  
  
  
  
  
  
  
  
  </tbody>
</table>









<br>








<span class="postbody"><br>









<br>









</span>
<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>

<!-- Mirrored from openhome.cc/Gossip/Qt3Gossip/QGrid.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:22:30 GMT -->
</html>
