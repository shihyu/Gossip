<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/DesignPattern/MediatorPattern.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:07:35 GMT -->
<head>








  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">








  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">








  
  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">








  
  
  
  
  
  
  
  
  <title>Mediator 模式</title></head>

<body>








<h3><a href="../index.html">From
Gossip@Openhome</a></h3>








<h1><a href="index-2.html">Design Pattern: Mediator 模式</a></h1>



<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">



  <tbody>



    <tr>



      <td style="width: 250px; text-align: center; vertical-align: top;"><comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>&nbsp;
      
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>








      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>








      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      
      
      
      
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>








      <br>







      
      
      
      
      
      
      
      <center>
      
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br>








      </center>








 </td>



      <td style="vertical-align: top; width: 690px; text-align: left;">
      <small>

Mediator的意思是中介者、調節者、傳遞物，顧名思義，這個模式在程式中必然負擔一個中介、調節、傳遞的工作。<br>


      <br>在組織物件工作的同時，物件彼此之間可能知道彼此的存在，並相互依賴，這就使得物件之間的耦合性相對的提高，最差的情況下，所有的物件都知道彼此的存在，這會使得系統的重用性降低。<br>


      <br>



Mediator模式用一個中介的物件來封裝物件彼此之間的交互，物件之間並不用互相知道另一方，這可以降低物件之間的耦合性，如果要改變物件之間的交互行為，也只需要對Mediator加以修改即可。<br>


      <br>例如</small><small>對話方塊組件</small><small>，當一個特定的輸入欄為空時，另一個按鈕不能使用；在ListBox的選項中選擇一個項目，將會改變另一個欄位的內容；反過來的，輸入欄位的內容也會影響ListBox的選擇等。 <br><img style="width: 478px; height: 374px;" alt="" src="images/Mediator-1.jpg"><br></small><small><br>



在這個例子中，雖然可以設計對話方塊中的組件知道彼此的存在，由一個直接影響另一個（或多個）組件，但最好的方法，還是設計一個Mediator，由它來協調組件之間的交互，例如設計一個FontDialogDirector類別來作為中介者：<br><img style="width: 395px; height: 235px;" alt="" src="images/Mediator-2.jpg"></small><small><br><br>



可以從順序圖來瞭解Mediator的運作：<br><img style="width: 480px; height: 541px;" alt="" src="images/Mediator-3.jpg"></small><small><br><br>



當ListBox發生變化時，它會呼叫Mediator的listBoxChanged()方法，Mediator取得變化的組件之狀態，並重新設定所有
與它有互動的組件，同樣的，其它的組件發生變化時，也呼叫Mediator上對應的方法，由Mediator來取得組件變化，並設定其它互動的組件。<br>


      <br>



簡單的說，Mediator設計有與組件溝通的介面，介面中封裝了與其它組件互動細節，組件與組件之間不用知道彼此的存在，它們只要與Mediator溝通就好了，利用這種方式，可以切開組件與組件之間的耦合。<br>


      <br>



Mediator模式的 UML 結構圖如下所示： </small><small><img style="width: 482px; height: 191px;" alt="" src="images/Mediator-4.jpg"><br><br></small><small>在類別圖中可以注意的是類別的名稱，Colleague是同事的意思，將一群共事的元件視為一群共同合作的同事，為了使同事之間的活動獨立，並使得
團隊合作的交互更具彈性，需要一個Mediator來協調同事之間的商務行為。</small></td>



    </tr>



  
  
  </tbody>
</table>



<br>


<br>



<br>








<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
<!-- Mirrored from openhome.cc/Gossip/DesignPattern/MediatorPattern.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:07:39 GMT -->
</html>