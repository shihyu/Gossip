<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from openhome.cc/Gossip/Qt4Gossip/WindowsInstallQt4.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:09:26 GMT -->
<head>










  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">










  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">










  
  
  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">









  
  
  
  
  
  
  
  
  
  <title>Windows XP/Vista 下安裝 Qt4</title>
</head>


<body>










<h3><a href="../index.html">From
Gossip@Openhome</a></h3>










<h1><a href="index-2.html">Qt4 Gossip: Windows XP/Vista 下安裝 Qt4</a></h1>










<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">










  <tbody>










    <tr>










      <td style="width: 676px; vertical-align: top;"> <small>在寫這篇文件的時候，我有一陣子沒有玩Linux了，之前 <a href="../Qt3Gossip/Qt3Gossip.html">Qt3文件</a> 都是在Linux下寫的，這次想換換口味，在Windows之下寫寫Qt4的文件，如果您想了解Linux下如何安裝Qt4，可以參考<big> </big></small><a href="http://ogc-daily.blogspot.com/2007/09/qt.html"><small>Ubuntu
下安裝 Qt 4.3.1</small></a><small>。<br>
      <br>
在這邊我所使用的是<a href="http://www.mingw.org/">MinGW</a> 5.1.3、<a href="http://trolltech.com/downloads/opensource">Qt OpenSource</a> 4.3.3，在寫這篇文章的時候（2008/3），MinGW在XP下使用沒什麼問題，但Vista下使用仍有問題，但這該說是MinGW的問題，還是Vista問題啊！？不過網路上有解決的方案，以下將會說明，未來也應該會有更好的解決方案。<br>
      <br>
      </small>
      <ul style="font-weight: bold;">
        <li><small>Windows XP下安裝Qt4</small></li>
      </ul>
      <ol>
        <li><small>在 <a href="http://www.bloodshed.net/devcpp.html">http://www.bloodshed.net/devcpp.html</a> 下載最新版的 Dev C++，直接下載含 MinGW 的版本</small></li>
        <li><small>在 <a href="http://trolltech.com/products/qt">http://trolltech.com/products/qt</a> 下載 Qt 4.x Open Source (MinGW) for Windows</small></li>
        <li><small>安裝 Dev C++</small></li>
        <li><small>安裝 Qt 4.x，在 Previously installed MinGW 中設定 Dev C++ 的安裝位置</small></li>
        <li><small>開啟主控台，切換到 Qt 安裝目錄的 bin 目錄下，執行 <span style="font-weight: bold;">qtvars.bat compile_debug</span> 建置 Debug library，這要一些時間，去作些別的事吧！</small></li>
        <li><small>要 make 寫好的程式，執行 <span style="font-weight: bold;">qtvars.bat</span> 可以幫你設好一些 Qt 所需的環境變數</small></li>
      </ol>
      <br>
      <ul>
        <li><small style="font-weight: bold;">Windows Vista下安裝Qt4</small></li>
      </ul>
      <ol>
        <li><small>在 <a href="http://www.mingw.org/">http://www.mingw.org/</a> 下載 MingGW 5.1.3</small></li>
        <li><small>在 <a href="../../../dessent.net/tmp/gcc-vista-3.4.5-20060117-1.tar.gz">http://dessent.net/tmp/gcc-vista-3.4.5-20060117-1.tar.gz</a> 下載 gcc-vista-3.4.5-20060117-1.tar.gz</small></li>
        <li><small>在 <a href="http://trolltech.com/products/qt">http://trolltech.com/products/qt</a> 下載 Qt 4.x Open Source (MinGW) for Windows</small></li>
        <li><small>安裝 MinGW，選擇安裝base tools、g++ 及 make</small></li>
        <li><small>把 gcc-vista-3.4.5-20060117-1.tar.gz 解壓縮到 MinGW 安裝目錄下並覆蓋相關檔案</small></li>
        <li><small>安裝 Qt 4.x，在 Previously installed MinGW 中設定 MinGW 的安裝位置，忽略 w32api.h 的錯誤訊息</small></li>
        <li><small>執行 Qt 程式集中的 Qt 4.3.3 (Build Debug Libraries) 建置 Debug library</small></li>
        <li><small>執行 Qt 程式集中的 Qt 4.3.3 Command Prompt 可以自動幫你設一些 Qt 環境變數，接下來就可以 make 你的程式了</small></li>
      </ol>
      <br>
      <small>「Qt 4.3.3 Command Prompt」會去執行qtvars.bat，它會幫您設置好相關的環境變數：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">set QTDIR=C:\Winware\Qt4.3.3</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">set PATH=C:\Winware\Qt4.3.3\bin</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">set PATH=%PATH%;C:\Winware\MinGW\bin</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">set PATH=%PATH%;%SystemRoot%\System32</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">set QMAKESPEC=win32-g++</span></small><br>
      </div>
      <br>
      <small>QTDIR是Qt的安裝路徑，Qt在使用時是由環境變數QTDIR得知您的系統中Qt的相關檔案位置。在執行qtvars.bat加上compile_debug引數，會執行configure、qmake與make等相關動作，以建置Deubg library：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-weight: bold; font-family: Courier New,Courier,monospace;">cd %QTDIR%</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">echo This will configure and compile qt in debug.</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">echo The release libraries will not be recompiled.</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">pause</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">configure -plugin-sql-sqlite -plugin-sql-odbc -qt-libpng -qt-libjpeg</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">cd %QTDIR%\src</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">qmake</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">mingw32-make debug</small><br>
      </div>
      <small><br>
Qt的線上說明文件位置Qt安裝目錄下的doc/html/index.html，其中就有一些相關的教學文件，您可以先行閱讀看看，而Qt的範例檔則是安裝Qt安裝目錄下的examples目錄中，您可以先執行看看這些程式。</small>








      <span class="postbody"><br>









      </span> </td>










      <td style="width: 250px; text-align: center; vertical-align: top;"><!-- adsense for content-->
      
      
      
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      
      
      
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>










<!-- adsense for content end--><br>










<!-- adsense for content-->
      
      
      
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      
      
      
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><!-- adsense for content end--></td>










    </tr>










  
  
  
  
  
  
  
  
  
  </tbody>
</table>










<br>









<span class="postbody"><br>










<br>










</span>
<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>

<!-- Mirrored from openhome.cc/Gossip/Qt4Gossip/WindowsInstallQt4.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:09:27 GMT -->
</html>
