<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Scala/ScalaCommand.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
<head>







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">







  
  
  
  
  
  
  
  <title>scala 指令</title></head>
<body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Scala Gossip: scala 指令</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script>
      <br><br>
      <center> </center>
      </td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>直接執行scala指令，會進入 </small><small><a href="InteractiveShell.html">指令互動環境</a></small><small>，你可以輸入-version得知Scala的版本資訊：<br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala -version<br>Scala code runner version 2.7.7.final -- Copyright 2002-2009, LAMP/EPFL</span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>



<br><small>你可以使用-e引數（e是指execute），將一段指令稿送給scala直譯並執行，這適合在懶得進入</small><small> </small><small><a href="InteractiveShell.html">指令互動環境</a></small><small>，又想了解一小段程式碼的作用或結果時：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala -e "println(\"Hello!World!\")"<br>Hello!World!<br><br>&gt;scala -e "val r = 1 + 2; println(r)"<br>3<br></span></small><span style="color: rgb(255, 255, 255);">




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>


<br><small>實際上，你可以撰寫一個純文字檔案，建議副檔名為.scala，在當中撰寫Scala程式碼：<br></small><ul><li><small>Hello.scala</small></li></ul><pre>println("Hello!Scala!")</pre><br><small>接著如下執行指令載入指令稿直譯並執行：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala Hello.scala<br>Hello!Scala!</span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>



<br><small>如果你想取得命令列引數（Command line arguments），則可以使用<span style="font-weight: bold;">args</span>，例如：<br></small><ul><li><small>Hello.scala</small></li></ul><pre>println("Hello!" + args(0) + "!")</pre><small><br>命令列引數會以字串陣列方式收集並指定給args，注意！args後是()而不是[]，</small><small><span style="font-weight: bold;">Scala中陣列索引的指定方式是()</span>，</small><small>0表示為第一個命令列引數，1則表示第二個命令列引數，依此類推。接著如下執行指令載入指令稿直譯並執行：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala hello.scala caterpillar<br>Hello!caterpillar!</span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>


<br><small>Scala的程式運行於JVM之上，實際上，<span style="font-weight: bold;">scala</span>指令會在記憶體中將你的指令稿編譯為位元碼（byte code），而後啟動JVM並執行它（</small><small>實際上，scala將你的指令稿包裹進一個Main類別的main方法中</small><small>）。若你願意，可以在執行scala直譯時下-savecompiled引數，將編譯完成的位元碼儲存下來，例如：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala -savecompiled Hello.scala caterpillar<br>Hello!caterpillar!</span></small><span style="color: rgb(255, 255, 255);">




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>


<br><small>程式如常執行之後，你會發現同一目錄下有個JAR檔案，當中包含了scala所編譯出來的位元碼檔案。<br><br>由於scala的程式是運行於JVM之上，你會想要指定一些引數給JVM，同樣是在執行scala時，使用-Dproperty=value的格式來指定。<br><br>你可以使用-help取得更多協助訊息：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&gt;scala -help<br>scalac [ &lt;option&gt; ]... [&lt;torun&gt; &lt;arguments&gt;]<br><br>All options to scalac are allowed.&nbsp; See scalac -help.<br><br>&lt;torun&gt;, if present, is an object or script file to run.<br>If no &lt;torun&gt; is present, run an interactive shell.<br><br>Option -howtorun allows explicitly specifying how to run &lt;torun&gt;:<br>&nbsp;&nbsp;&nbsp; script: it is a script file<br>&nbsp;&nbsp;&nbsp; object: it is an object name<br>&nbsp;&nbsp;&nbsp; guess: (the default) try to guess<br><br>Option -i requests that a file be pre-loaded.&nbsp; It is only<br>meaningful for interactive shells.<br><br>Option -e requests that its argument be executed as Scala code.<br><br>Option -savecompiled requests that the compiled script be saved<br>for future use.<br><br>Option -nocompdaemon requests that the fsc offline compiler not be used.<br><br>Option -Dproperty=value sets a Java system property.</span></small><span style="color: rgb(255, 255, 255);"><br>




            </span></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>

<br><small>scala指令可以用來直譯指令稿，也可以用來執行編譯過後的程式碼（也就是位元碼，必須先存在.class檔案），-
howtorun可以指定如何執行程式碼，預設是由scala自行猜測。-howtorun指定為script時，直接告知scala指令以直譯方式執
行，可以稍微加快scala開始進行直譯。</small><small>-howtorun指定object時，程式必須使用scalac編譯為.class，稍後說明。</small><br><small></small><small><br></small><br><br><br><br></td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Scala/ScalaCommand.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
</html>