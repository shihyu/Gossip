<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Scala/OperatorMethod.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
<head>







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">







  
  
  
  
  
  
  
  <title>操作方法</title></head>
<body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Scala Gossip: 操作方法</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>
      <br></td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>Scala提供了算術操作（Arithmetic operation）、關係操作（Rational operation）、邏輯操作（Logical operation）、位元操作（Bitwise operation）等對物件的基本操作。<br></small><ul><li><small>算術操作：如+、-、*、/、%</small></li><li><small>關係操作：如&gt;、&gt;=、&lt;、&lt;=、==、!=</small></li><li><small>邏輯操作：如&amp;&amp;、||、!</small></li><li><small>位元操作：如&amp;、|、~、^、&gt;&gt;、&gt;&gt;&gt;、&lt;&lt;</small></li><li><small>指定操作：如</small><small>+=、-=、*=、/=、%=、</small><small>&amp;=、|=、~=、&gt;&gt;=、&gt;&gt;&gt;=、&lt;&lt;=</small></li></ul><small><br>這些操作一般稱之為運算子（Operator），以下是一些實際運用：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">scala&gt; 1 + 2<br>res0: Int = 3<br><br>scala&gt; 3 - 1<br>res1: Int = 2<br><br>scala&gt; 3 * 10<br>res2: Int = 30<br><br>scala&gt; 1 &gt;= 2<br>res3: Boolean = false<br><br>scala&gt; 1 | 2<br>res4: Int = 3<br><br>scala&gt;</span></small></td></tr></tbody></table><small><small><big><br>是的，表面上看起來，這些操作確實就像是運算子，不過，<span style="font-weight: bold;">Scala技術上而言，並沒有所謂的運算子，你所看到的+、-、*'、/等操作，其實都是物件上的方法</span>，下面的示範可以印證：</big></small></small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">scala&gt; (1).+(2)<br>res5: Int = 3<br><br>scala&gt; (3).-(1)<br>res6: Int = 2<br><br>scala&gt; (3).*(10)<br>res7: Int = 30<br><br>scala&gt; (1).&gt;=(2)<br>res8: Boolean = false<br><br>scala&gt; (1).|(2)<br>res9: Int = 3<br><br>scala&gt;</span></small></td></tr></tbody></table><small><small><big><br></big></small>在Int物件上，定義了+、-、*、/等各個方法，</small><small>上面的例子中，使用了方法的操作方式加以印證，<span style="font-weight: bold;">在Scala中，物件要呼叫方法時，點（.）字元並非必要，且若方法只帶一個參數或不帶參數，則括號也可以省略。</span>所以使得+、-、*、/等操作，形式上看來就像一般程式語言中的運算子。<br><br>所以，你也可以如下操作物件上的一些方法：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">scala&gt; val x = 1L<br>x: Long = 1<br><br>scala&gt; val y: Int = x toInt<br>y: Int = 1<br><br>scala&gt; "abc" toUpperCase<br>res11: java.lang.String = ABC<br><br>scala&gt; "abc" indexOf 'b'<br>res12: Int = 1<br><br>scala&gt;</span></small></td></tr></tbody></table><small><small><big><br>所以，<span style="font-weight: bold;">你可以讓任何方法看來就像運算子，這是Scala支援語言擴充性的一種方式，在定義類別時，也可以定義</span></big></small></small><small><span style="font-weight: bold;">+、-、*、/等方法，讓物件支援這些運算</span>。</small><br><small><small><big><br>對於1+2這樣的操作，+是1物件上的方法名稱，從+來看，1與2是它的運算元，如果就一般程式語言來說，+是二元運算子。但對於~這樣的操作，是擺在某個數值或物件之前的運算，該如何於物件上定義方法呢？<br><br>Scala使用<span style="font-weight: bold;">「unary_」</span>作為這種前置運算的方法名稱前置，例如若要定義~這樣的運算，則在定義類別時定義「unary_~」這樣的方法名稱，當你呼叫</big></small></small><small><small><big>~2，實際上等於呼叫(2).unary_~</big></small></small><small><small><big>：</big></small></small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">scala&gt; ~2<br>res15: Int = -3<br><br>scala&gt; (2).unary_~<br>res16: Int = -3<br><br>scala&gt;</span></small></td></tr></tbody></table><small><small><big><br>不過，<span style="font-weight: bold;">Scala限制可以作為前置運算的符號，只有+、-、!與~可以作為前置運算</span>，如果你定義其它的符號，例如定義了unary_#，你仍然可以使用x.unary_#的方式呼叫（x參考至物件），但#x這樣的前置運算則是不行的（Scala的將之解釋為#.x）。</big></small></small><small><small><big><br><br></big></small><span style="font-weight: bold;"></span></small><br><small><br></small></td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Scala/OperatorMethod.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
</html>