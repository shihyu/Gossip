<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Scala/Package.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
<head>







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">







  
  
  
  
  
  
  
  <title>套件（Package）</title></head>
<body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Scala Gossip: 套件（Package）</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;"><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>
      <br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center> </center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>到目前為止所撰寫的Scala範例程式，都可以寫在一個.scala的檔案中，使用scala指令以直譯的方式來執行，.scala中可以包括數個類別定義，也可以包括陳述句，這方便你快速撰寫一些簡單類別或程式。<br><br></small><small>一個應用程式中會有多個類別彼此合作，也有可能由多個團隊共同分工，完成應用程式的某些功能塊，再組合在一起。一旦你程式開始要好好地管理類別，你就要為類別分門別類，而不再是一個.scala檔案從頭寫到尾，</small><small>你要有個分門別類管理類別的方式，無論是實體檔案上的分類管理，或是程式邏輯上的分類管理！<br><br>在Scala中使用套件（Package）機制來管理類別，舉個例子來說，你要將Point類別放在cc.openhome套件中：<br></small><ul><li>Point.scala</li></ul><pre><span style="font-weight: bold;">package cc.openhome<br></span>class Point(val x: Int, val y: Int)</pre><small><br>若要以<span style="font-weight: bold;">直譯的方式</span>來使用這個類別，則以上的內容必須存成一個Point.scala，並放在cc資料夾的openhome資料夾中，例如：<br></small><div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">|workspace|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Main.scala</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; |cc|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |openhome|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; |Point.scala</span></span></small><br><small><span style="font-family: Courier New,Courier,monospace;"></span></small></div><small><br>接著你可以如下寫個.scala來直譯執行，例如Main.scala：<br></small><ul><li>Main.scala</li></ul><pre>val x = new <span style="font-weight: bold;">cc.openhome.Point</span>(1, 1)</pre><small><br>注意！套件名稱與類別名稱會結合為<span style="font-weight: bold;">完全吻合名稱（Fully-qualified name）</span>，以上例來說，類別的完全吻合名稱就是cc.openhome.Point。直譯時，使用scala Main.scala，scala會去尋找對應套件設定的資料夾下，是否有對應的.scala檔案。<br><br><span style="font-weight: bold;"></span></small><small>你可以<span style="font-weight: bold;">使用scalac編譯出.class</span>，
例如scalac
Point.scala，這會為你自動建立cc資料夾與openhome子資料夾，然後將Point.class置於openhome資料夾中，接著你在
執行scala指令時，就可以使用-classpath或-cp指定類別路徑來使用編譯好的.class。<br><br></small><small><span style="font-weight: bold;">總而言之，Scala套件管理不僅是語法層面的，也是實體檔案管理的一種方式，套件名稱對應至實體資料夾名稱，類別必須放在對應的資料夾之中。</span><br></small><small><br>事實上，之前的Point.scala的撰寫方式，其實是以下撰寫方式的語法蜜糖：<br></small><pre>package cc {<br>    package openhome {<br>        class Point(val x: Int, val y: Int)<br>&nbsp;   }<br>}</pre><br><small>由於cc與openhome套件之間，並沒有別的類別定義，所以也可以撰寫為以下的方式：<br></small><pre>package cc.openhome {<br>    class Point(val x: Int, val y: Int)<br>}</pre><small><br>Scala也允許你在同一個.scala中巢狀套件，例如：<br></small><ul><li>Demo.scala</li></ul><pre>package cc {<br>    package openhome {<br>        class Point(val x: Int, val y: Int)<br>    }<br>    package drawing {<br>        class Cricle(val x: Int, val y: Int, val r: Int) {<br>            // 不需要寫 cc.openhome.Point<br>            val center = new <span style="font-weight: bold;">openhome.Point</span>(x, y)<br>        }<br>    }<br>}</pre><small><br></small><small>如果你在同一個.scala中巢狀套件，那麼使用當中類別的方式是使用scalac將之編譯為.class，scalac會根據當中的套件資訊建立對應的資料夾，並將.class置入對應的資料夾中，上面的例子中，scalac的結果如下：<br></small><div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">|workspace|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Demo.scala</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; |cc|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |openhome|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; |Point.class<br></span></span></small><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |drawing|</span></span></small><br style="font-weight: bold;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; |Circle.class</span></span></small><br></div><small><br>注意到在上例中，在cc.drawing中的類別在使用到cc.openhome.Point類別時，並不用真的寫</small><small>cc.openhome.Point，而只要寫openhome.Point，這是因為cc.drawing與cc.openhome的上一層套件都是cc，因此可以省略（你要完整寫出cc.openhome.Point也是可以的）。<br><br>但下面這個範例，使用的是哪個Point類別定義呢？<br></small><pre>package cc {<br><span style="font-weight: bold;">    package openhome {</span><br style="font-weight: bold;"><span style="font-weight: bold;">        class Point(val x: Int, val y: Int)</span><br style="font-weight: bold;"><span style="font-weight: bold;">    }</span><br>    package drawing {<br>        class Cricle(val x: Int, val y: Int, val r: Int) {<br>            // 這個使用的是 cc.openhome.Point <br>            val center = new <span style="font-weight: bold;">openhome.Point</span>(x, y)<br>        }<br>    }<br>}<br><br>package openhome {<br>    class Point(val x: Int, val y: Int)<br>}</pre><small><br>如果你想要使用的，真的就是從最上層套件開始的openhome.Point，而不是cc.openhome.Point，則可以使用<span style="font-weight: bold;">_root_</span>來指定，例如：<br></small><pre>package cc {<br>    package openhome {<br>        class Point(val x: Int, val y: Int)<br>    }<br>    package drawing {<br>        class Cricle(val x: Int, val y: Int, val r: Int) {<br>            // 這個使用的是 openhome.Point <br>            val center = new <span style="font-weight: bold;">_root_.openhome.Point</span>(x, y)<br>        }<br>    }<br>}<br><br><span style="font-weight: bold;">package openhome {</span><br style="font-weight: bold;"><span style="font-weight: bold;">    class Point(val x: Int, val y: Int)</span><br style="font-weight: bold;"><span style="font-weight: bold;">}</span></pre><small><br></small><br><small><br></small></td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Scala/Package.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:11:14 GMT -->
</html>