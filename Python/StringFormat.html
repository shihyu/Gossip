<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Python/StringFormat.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:15:42 GMT -->
<head>
<link rel="stylesheet" href="css/stdlayout.css" type="text/css">
<link rel="stylesheet" href="css/print.css" type="text/css">
<meta content="text/html; charset=Big5" http-equiv="content-type"><title>字串格式化</title>

</head>
<body>
<h3><a href="../index.html">From
Gossip@Openhome</a></h3>
<h1><a href="index-2.html">Python Gossip: 字串格式化</a></h1>
<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">
<tbody>
<tr>
<td style="vertical-align: top; width: 250px; text-align: center;">
<script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br>
<br>
<script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
</script>
<script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script><br>
<br>
 <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>
</td>
<td style="vertical-align: top; width: 690px; text-align: left;"><small>在
</small><small><a href="IOABC.html">基本輸入輸
出</a> 中簡介過字串格式化。</small><small>例如：</small><small><br>
</small>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; text =
'%d %.2f %s' % (1, 99.3, 'Justin')<br>
&gt;&gt;&gt; print(text)<br>
</span>1 99.30 Justin<span style="font-weight: bold;"><br>
&gt;&gt;&gt; print('%d %.2f %s' % (1, 99.3, 'Justin'))<br>
</span>1 99.30 Justin<span style="font-weight: bold;"><br>
&gt;&gt;&gt;</span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td>
</tr>
</tbody>
</table>
<br>
<small>格式化字串時，所使用的<span style="font-family: Courier New,Courier,monospace;">%d、%f、%s</span>等
與C語
言類似，之後使用%接上一個<span style="font-family: Courier New,Courier,monospace;">tuple</span>，
也就是範例中以<span style="font-family: Courier New,Courier,monospace;">()</span>包
括的實字表示部份。一些可用的字串格式字列舉如下：</small>
<table align="left" border="1" width="100%">
<tbody>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%% </small></td>
<td style="width: 589px;" align="left" valign="top"><small>在字串
中顯示% </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%d </small></td>
<td style="width: 589px;" align="left" valign="top"><small>以10
進位整數方式輸出 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%f </small></td>
<td style="width: 589px;" align="left" valign="top"><small>將浮點
數以10進位方式輸出 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%e,
%E </small></td>
<td style="width: 589px;" align="left" valign="top"><small>將浮點
數以10進位方式輸出，並使用科學記號 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%o </small></td>
<td style="width: 589px;" align="left" valign="top"><small>以8進
位整數方式輸出 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%x,
%X </small></td>
<td style="width: 589px;" align="left" valign="top"><small>將整
數以16進位方式輸出 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%s </small></td>
<td style="width: 589px;" align="left" valign="top"><small>使用<span style="font-family: Courier New,Courier,monospace;">str()</span>將字串輸出 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%c </small></td>
<td style="width: 589px;" align="left" valign="top"><small>以字元
方式輸出 </small></td>
</tr>
<tr>
<td style="font-family: Courier New,Courier,monospace; width: 85px;" align="left" valign="top"><small>%r </small></td>
<td style="width: 589px;" align="left" valign="top"><small>使用<span style="font-family: Courier New,Courier,monospace;">repr()</span>輸
出字串</small></td>
</tr>
</tbody>
</table>
<br>
<br><br><br><br><br><br><br>
<br>
<br>
<br>
<br>
<small>可以在輸出浮點數時指定精度，例如：<br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; 'example:%.2f' % 19.234<br></span>'example:19.23'<span style="font-weight: bold;"><br>&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br><small>也可以指定輸出時，至少要預留的字元寬度，例如：</small><br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; "example:%6.2f" % 19.234<br></span>'example: 19.23'<span style="font-weight: bold;"><br>&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br>
<small>由於預留了6個字元寬度，不足的部份要由空白字元補上。使用%運算子來格式化字串，會產生新的字串物件。<br><br>在格式化時，也可以使用關鍵字來指定，例如：</small><br>
<table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; '%(real)s is %(nick)s!!' % ({'real' : 'Justin', 'nick' : 'caterpillar'})<br></span>'Justin is caterpillar!!'<span style="font-weight: bold;"><br>&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br><small>實際上，以上的字串格式化方式是舊式的作法，在未來的Python版本中可能不再支援這種作法，若有更進一步的興趣了解，可以參考 <a href="http://docs.python.org/py3k/library/stdtypes.html#old-string-formatting">Old String Formatting Operations</a>。<br><br>在Python3（或Python 2.6）中導入了新的格式化字串方法，可以讓你根據位置、關鍵字（或兩者混合）來進行字串格式化，例如：<br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; '{0} is {1}!!'.format('Justin', 'caterpillar')<br></span>'Justin is caterpillar!!'<span style="font-weight: bold;"><br>&gt;&gt;&gt; '{real} is {nick}!!'.format(real = 'Justin', nick = 'caterpillar')<br></span>'Justin is caterpillar!!'<span style="font-weight: bold;"><br>&gt;&gt;&gt; '{real} is {nick}!!'.format(nick = 'caterpillar', real = 'Justin')<br></span>'Justin is caterpillar!!'<span style="font-weight: bold;"><br>&gt;&gt;&gt; '{0} is {nick}!!'.format('Justin', nick = 'caterpillar')<br></span>'Justin is caterpillar!!'<br><span style="font-weight: bold;">&gt;&gt;&gt; '{name} is {age} years old!'.format(name = 'Justin', age = 35)</span><br>'Justin is 35 years old!'<br><span style="font-weight: bold;">&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br><small>以上是最基本的格式化作法，你可以在字串中使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">{}</span>包括位罝索引或關鍵字，並使用<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">format()</span>方法來指定實際上位置索引或關鍵字真正的值。<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">format()</span>會產生新的字串，為結合引數的格式化結果字串。<br><br>如果要存取<span style="font-family: Courier New,Courier,monospace;">format()</span>中指定物件的屬性，或者是所指定物件是個字典、串列物件，則上在<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">{}</span>中包括的索引或關鍵字，可以代表即將指定的物件。例如：</small><small><br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; import math<br>&gt;&gt;&gt; 'PI = {0.pi}'.format(math)<br></span>'PI = 3.14159265359'<span style="font-weight: bold;"><br>&gt;&gt;&gt; import sys<br>&gt;&gt;&gt; 'My platform is {pc.platform}'.format(pc = sys)<br></span>'My platform is win32'<br><span style="font-weight: bold;">&gt;&gt;&gt; 'My platform is {0.platform}. PI = {1.pi}.'.format(sys, math)</span><br>'My platform is win32. PI = 3.14159265359.'<br><span style="font-weight: bold;">&gt;&gt;&gt; 'element of index 1 is {0[1]}'.format([20, 10, 5])<br></span>'element of index 1 is 10'<br><span style="font-weight: bold;">&gt;&gt;&gt; 'My name is {person[name]}'.format(person = {'name' : 'Justin', 'age' : 35})</span><br>'My name is Justin'<br><span style="font-weight: bold;">&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br><small></small><small>當然，舊式的格式指定，在新的格式化方法中也可以支援。例如：<br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; '{0:d} {1:.2f} {2:s}'.format(1, 99.3, 'Justin')<br>'1 99.30 Justin'</span><br><span style="font-weight: bold;">&gt;&gt;&gt; 'example:{0:.2f}'.format(19.234)<br></span>'example:19.23'<span style="font-weight: bold;"><br>&gt;&gt;&gt; 'example:{0:6.2f}'.format(19.234)<br></span>'example: 19.23'<span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br><small>在預留空白時，可以使用&gt;指定靠右對齊，使用&lt;指定靠左對齊。例如：<br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; 'example:{0:&gt;10.2f}!!'.format(19.234)<br></span>'example:&nbsp;&nbsp;&nbsp;&nbsp; 19.23!!'<span style="font-weight: bold;"><br>&gt;&gt;&gt; 'example:{0:&lt;10.2f}!!'.format(19.234)<br></span>'example:19.23&nbsp;&nbsp;&nbsp;&nbsp; !!'<span style="font-weight: bold;"><br>&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br>
<small>如果只是要格式化單一數值，則可以使用<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">format()</span>函式。例如：<br></small><table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2"><tbody><tr><td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt;&gt; import math<br>&gt;&gt;&gt; format(math.pi, '.2f')<br></span>'3.14'<span style="font-weight: bold;"><br>&gt;&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><span style="color: rgb(255, 255, 255);"><br>
</span></td></tr></tbody></table><br>
<small>更多字串格式化的介紹，可以參考 <a href="http://docs.python.org/py3k/library/string.html#string-formatting">String Formatting</a>。</small><br>
<small><br>
</small><br>
<small><br>
</small></td>
</tr>
</tbody>
</table>
<br>
<br>
<br>
<br>
<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
<!-- Mirrored from openhome.cc/Gossip/Python/StringFormat.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:15:42 GMT -->
</html>