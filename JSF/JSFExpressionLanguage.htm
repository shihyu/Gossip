<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<!-- Mirrored from openhome.cc/Gossip/JSF/JSFExpressionLanguage.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:18:11 GMT -->
<head>






  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">






  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">






  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">






  
  
  
  
  
  
  <title>JSF Expression Language</title>
</head>


<body>






<h3><a href="../index.html">From
Gossip@Openhome</a></h3>






<h1><a href="index-2.html">JSF Gossip:&nbsp;JSF Expression Language </a></h1>


<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">


  <tbody>


    <tr>


      <td style="width: 250px; text-align: center; vertical-align: top;"><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br>
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>




      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>




      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      
      
      
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>




      <br>



      
      
      
      <center>
      
      
      
       <br>




      </center>




 </td>


      <td style="vertical-align: top; width: 690px; text-align: left;">
      <small>




JSF Expression Language 搭配 JSF 標籤來使用，是用來存取資料物件的一個簡易語言。<br>

      <br>


JSF EL是以#開始，將變數或運算式放置在 { 與 } 之間，例如：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;#{someBeanName}</span><br>


      </small></div>

      <small>
&nbsp;<br>


變數名稱可以是faces-config.xml中定義的名稱，如果是Bean的話，可以透過使用 '.' 運算子來存取它的屬性，例如：<br>

      </small>
      
      <div style="margin-left: 40px; font-weight: bold; font-family: Courier New,Courier,monospace;"><small>&nbsp;...<br>


&nbsp;&lt;f:view&gt;<br>


&nbsp;&nbsp;&nbsp; &lt;h:outputText value="#{userBean.name}"/&gt;<br>


&nbsp;&lt;/f:view&gt;<br>


&nbsp;...<br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


在JSF標籤的屬性上，" 與 " （或'與'）之間如果含有EL，則會加以運算，您也可以這麼使用它：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;...</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; 名稱, 年齡：&lt;h:outputText </span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
value="#{userBean.name}, #{userBean.age}"/&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;...</span><br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


一個執行的結果可能是這樣顯示的：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold;">&nbsp;名稱, 年齡：Justin, 29</span><br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


EL的變數名也可以程式執行過程中所宣告的名稱，或是JSF EL預設的隱含物件，例如下面的程式使用param隱含物件來取得使用者輸入的參數：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;%@ taglib uri="http://java.sun.com/jsf/core" prefix="f" %&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;%@ taglib uri="http://java.sun.com/jsf/html" prefix="h" %&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;%@page contentType="text/html; charset=Big5"%&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;html&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;head&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;title&gt;&lt;/title&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/head&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;body&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;b&gt; 您好, &lt;h:outputText value="#{param.name}"/&gt; &lt;/b&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/body&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/html&gt;</span><br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


param是JSF
EL預設的隱含物件變數，它代表request所有參數的集合，實際是一個java.util.Map型態物件，JSF所提供的隱含物件，大致上對應於
JSP
隱含物件，不過JSF隱含物件移除了pageScope與pageContext，而增加了facesContext與view，它們分別對應於
javax.faces.context.FacesContext與javax.faces.component.UIViewRoot。<br>

      <br>


對於Map型態物件，我們可以使用 '.' 運算子指定key值來取出對應的value，也可以使用 [ 與 ] 來指定，例如：<br>

      </small>


      
      <div style="margin-left: 40px; font-family: Courier New,Courier,monospace;"><small><span style="font-weight: bold;">&nbsp;...</span><br style="font-weight: bold;">


      <span style="font-weight: bold;">&nbsp;&lt;f:view&gt;</span><br style="font-weight: bold;">


      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;b&gt; 您好, &lt;h:outputText value="#{param['name']}"/&gt; &lt;/b&gt;</span><br style="font-weight: bold;">


      <span style="font-weight: bold;">&nbsp;&lt;/f:view&gt;</span><br style="font-weight: bold;">


      <span style="font-weight: bold;">&nbsp;...</span><br style="font-weight: bold;">


      </small></div>

      <small>
&nbsp;<br>

      <br>


在 [ 與 ] 之間，也可以放置其它的變數值，例如：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">...</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;h:outputText value="#{someBean.someMap[user.name]}"/&gt; </span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;...</span><br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


如果變數是List型態或陣列的話，則可以在 [] 中指定索引，例如：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value="#{someBean.someList[0]}"/&gt; </span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText value="#{someBean.someArray[1]}"/&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp; &lt;h:outputText</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value="#{someBean.someListOrArray[user.age]}"/&gt;&nbsp; </span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;/f:view&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


您也可以指定字面常數，對於true、false、字串、數字，JSF EL會嘗試進行轉換，例如：<br>

      </small>

      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;h:outputText value="#{true}"/&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&lt;h:outputText value="#{'This is a test'}"/&gt;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">


      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;....</span><br>


      </small></div>

      <small>
&nbsp;<br>

      <br>


如果要輸出字串，必須以單引號 ' 或雙引數 " 括住，如此才不會被認為是變數名稱。<br>

      <br>


在宣告變數名稱時，要留意不可與JSF的保留字或關鍵字同名，例如不可取以下這些名稱：<br>

      </small>


      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;true false null div mod and or not eq ne lt gt le ge instanceof empty</span><br>


      </small></div>

      <small>
&nbsp;<br>


使用EL，您可以直接實行一些算術運算、邏輯運算與關係運算，其使用就如同在一般常見的程式語言中之運算。 <br>

      <br>



算術運算子有：加法 (+), 減法 (-), 乘法 (*), 除法 (/ or div) 與餘除 (% or mod)
。下面是算術運算的一些例子： </small>




      <br>



      
      <table border="1" width="50%">



  <tbody>



    <tr>



      <td align="left" valign="top"><small>運算式 </small></td>



      <td align="left" valign="top"><small>結果 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1} </small></td>



      <td align="left" valign="top"><small>1 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1 + 2} </small></td>



      <td align="left" valign="top"><small>3 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1.2 + 2.3} </small></td>



      <td align="left" valign="top"><small>3.5 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1.2E4 + 1.4} </small></td>



      <td align="left" valign="top"><small>12001.4 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{-4 - 2} </small></td>



      <td align="left" valign="top"><small>-6 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{21 * 2} </small></td>



      <td align="left" valign="top"><small>42 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{3/4} </small></td>



      <td align="left" valign="top"><small>0.75 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{3 div 4} </small></td>



      <td align="left" valign="top"><small>0.75，除法 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{3/0} </small></td>



      <td align="left" valign="top"><small>Infinity </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{10%4} </small></td>



      <td align="left" valign="top"><small>2 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{10 mod 4} </small></td>



      <td align="left" valign="top"><small>2，也是餘除 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{(1==2) ? 3 : 4} </small></td>



      <td align="left" valign="top"><small>4 </small></td>



    </tr>



  
  
        
        </tbody>
      
      </table>



      <br>

      <small>
如同在Java語法一樣 ( expression ? result1 :
result2）是個三元運算，expression為true顯示result1，false顯示result2。 <br>

      <br>


邏輯運算有：and(或&amp;&amp;)、or(或!!)、not(或!)。一些例子為： </small>

      <br>



      
      <table border="1" width="50%">



  <tbody>



    <tr>



      <td align="left" valign="top"><small>運算式 </small></td>



      <td align="left" valign="top"><small>結果 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{true and false} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{true or false} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{not true} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



  
  
        
        </tbody>
      
      </table>



      <br>

      <small>
關係運算有：小於Less-than (&lt; or lt)、大於Greater-than
(&gt; or gt)、小於或等於Less-than-or-equal (&lt;= or
le)、大於或等於Greater-than-or-equal (&gt;= or ge)、等於Equal (== or eq)、不等於Not
Equal (!= or ne)，由英文名稱可以得到lt、gt等運算子之縮寫詞，以下是Tomcat的一些例子： </small><br>



      
      <table border="1" width="50%">



  <tbody>



    <tr>



      <td align="left" valign="top"><small>運算式 </small></td>



      <td align="left" valign="top"><small>結果 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1 &lt; 2} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1 lt 2} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1 &gt; (4/2)} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{1 &gt; (4/2)} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{4.0 &gt;= 3} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{4.0 ge 3} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{4 &lt;= 3} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{4 le 3} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{100.0 == 100} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{100.0 eq 100} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{(10*10) != 100} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{(10*10) ne 100} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



  
  
        
        </tbody>
      
      </table>



      <br>

      <small>
左邊是運算子的使用方式，右邊的是運算結果，關係運算也可以用來比較字元或字串，按字典順序來決定比較結果，例如： </small><br>



      
      <table border="1" width="50%">



  <tbody>



    <tr>



      <td align="left" valign="top"><small>運算式 </small></td>



      <td align="left" valign="top"><small>結果 </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{'a' &lt; 'b'} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{'hip' &gt; 'hit'} </small></td>



      <td align="left" valign="top"><small>false </small></td>



    </tr>



    <tr>



      <td align="left" valign="top"><small>#{'4' &gt; 3} </small></td>



      <td align="left" valign="top"><small>true </small></td>



    </tr>



  
  
        
        </tbody>
      
      </table>



      <br>

      <small>
EL運算子的執行優先順序與Java運算子對應，如果有疑慮的話，也可以使用括號()來自行決定先後順序。 </small></td>


    </tr>


  
  </tbody>
</table>


<br>

<br>


<br>






<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>

<!-- Mirrored from openhome.cc/Gossip/JSF/JSFExpressionLanguage.htm by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:18:11 GMT -->
</html>
