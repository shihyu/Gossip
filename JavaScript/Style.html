<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/Style.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:33 GMT -->
<head>
















  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>存取樣式資訊</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">JavaScript Essence: 存取樣式資訊<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center> </center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;">
      <div style="text-align: right;"><a href="http://openhome.cc/eGossip/JavaScript/GettingSettingStyles.html">English</a><br>
      </div>
      <small><br>
在HTML標籤上，可以設定<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">style</span><span style="font-weight: bold;">屬性</span>，藉以改變元素的樣式。例如：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&lt;html&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;head&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;script type="text/javascript"&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/script&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;/head&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;body&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div id="message" <span style="color: red;">style="color: #ffffff; background-color: #ff0000; width: 500px; height: 200px; padding-left: 250px; padding-top: 150px;"</span>&gt;這是一段訊息&lt;/div&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; &lt;/body&gt;</span></small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&lt;/html&gt;</span></small><br>
      </div>
      <small><br>
你可以直接使用JavaScript設定<span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">style特性</span>上的各個特性來達到相同效果</span>。例如：<br>
      </small>
      <ul>
        <li><a href="samples/Style-1.html"><small>Style-1.html</small></a></li>
      </ul>
      <pre>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;<br>        &lt;script type="text/javascript"&gt;<br>            window.onload = function() {<br>                var message = document.getElementById('message');<br>                message.style.color = '#ffffff';<br>                message.style.backgroundColor = '#ff0000';<br>                message.style.width = '500px';<br>                message.style.height = '200px';<br>                message.style.paddingLeft = '250px';<br>                message.style.paddingTop = '150px';<br>            };<br>        &lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;div id="message"&gt;這是一段訊息&lt;/div&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></pre>
      <small><br>
      <span style="font-family: Courier New,Courier,monospace;">style</span>特性所參考的是<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">CSSProperties</span>物件，要注意的是特性名稱的大小寫，通常是沒有破折線、採駝峰式命名。一般不會或不建議使用標籤的<span style="font-family: Courier New,Courier,monospace;">style</span>屬性來設定樣式，而會定義在樣式表中。例如：<br>
      </small>
      <div style="margin-left: 40px;"><small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&lt;html&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;head&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;style type="text/css"&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #message {</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; color: #ffffff; </small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; background-color: #ff0000; </small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; width: 500px; </small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; height: 200px; </small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; padding-left: 250px; </small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; padding-top: 150px;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/style&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;/head&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;body&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;div id="message"&gt;這是一段訊息&lt;/div&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&nbsp;&nbsp;&nbsp; &lt;/body&gt;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">
      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">&lt;/html&gt;</small><br>
      </div>
      <small><br>
      <span style="font-family: Courier New,Courier,monospace;">然而在這種情況下，無法使用style特性來取得樣式表中定義的各個樣式資訊，因為<span style="font-weight: bold;">元素的style特性是對應於標籤的style屬性</span>，<span style="font-weight: bold; color: red;">標籤若沒有定義style屬性，或程式中沒有設定style的特性，就無法使用style特性來取得樣式資訊。</span>標籤的style屬性或透過元素的style特性會覆蓋樣式表的設定，由於一般並不建議直接於標籤上設定style屬性，因此透過程式，<span style="font-weight: bold;">通常建議將style特性用於設定樣式，而不是取得樣式</span>。<br>
      <br>
如果標籤沒有設定style屬性，而你想要取得元素上套用的樣式資訊，則必須取得元素的<span style="font-weight: bold;">計算樣式（</span></span><span style="font-weight: bold;">Computed style</span><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">）</span>，計算樣式是指所有樣式規則（</span></small><small><span style="font-family: Courier New,Courier,monospace;">包括樣式表、style屬性</span></small><small><span style="font-family: Courier New,Courier,monospace;">）已套用至元素後的樣式結果。<br>
      <br>
若是在標準瀏覽器中，可以使用window的<span style="font-weight: bold;">getComputedStyle</span>函式（與document.defaultView.getComputedStyle是相同函式），取得的樣式物件是<span style="font-weight: bold;">唯讀的CSS2Properties物件</span>，你可以直接如同使用style特性，直接於上指定特性來取得樣式資訊，或是使用<span style="font-weight: bold;">getPropertyValue()</span>方法指定</span>CSS<span style="font-family: Courier New,Courier,monospace;">屬性。若是在</span>Internet Explorer<span style="font-family: Courier New,Courier,monospace;">上，則可以透過元素的<span style="font-weight: bold;">currentStyle</span>特性來取得計算樣式。<br>
      <br>
以下是取得計算樣式的簡單封裝：<br>
      </span></small>
      <div style="margin-left: 40px;"><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">function style(obj, prop) {<br>
      </span></span></small><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; if(window.getComputedStyle) {</span></span></small><br style="font-weight: bold;">

      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return window.getComputedStyle(obj, null)[prop];</span></span></small><br style="font-weight: bold;">

      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; }</span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; else if(obj.currentStyle) {</span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return obj.currentStyle[prop];</span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; }</span></span></small><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;"></span></span></small><small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;"></span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; else {</span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return null;</span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">&nbsp;&nbsp;&nbsp; }</span></span></small><br style="font-weight: bold;">
      <small><span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">}</span></span></small><br>
      <small><span style="font-family: Courier New,Courier,monospace;"></span></small></div>
      <small><span style="font-family: Courier New,Courier,monospace;"><br>
getComputedStyle()的第二個引數可指定虛擬類別（</span>pseudo-class<span style="font-family: Courier New,Courier,monospace;">），如果不設定的話，也必須指定null。<br>
      <br>
      </span></small><small><span style="font-family: Courier New,Courier,monospace;">取得的</span></small><small><span style="font-family: Courier New,Courier,monospace;">樣式資訊存在著跨瀏覽器的問題。例如最簡單的顏色資訊，下面的範例在</span>Firefox<span style="font-family: Courier New,Courier,monospace;">上顯示的是RGB()格式，而在</span>Internet Explorer<span style="font-family: Courier New,Courier,monospace;">上是顯示#HEX格式：<br>
      </span></small>
      <ul>
        <li><a href="samples/Style-2.html"><small>Style-2.html</small></a></li>
      </ul>
      <pre>&lt;html&gt;<br>    &lt;head&gt;<br>        &lt;meta content="text/html; charset=Big5" http-equiv="content-type"&gt;<br>        &lt;style type="text/css"&gt;<br>            #message {<br>                color: #ffffff;<br>                background-color: #ff0000;<br>                width: 500px;<br>                height: 200px;<br>                padding-left: 250px;<br>                padding-top: 150px;<br>            }<br>        &lt;/style&gt;<br>        <br>        &lt;script type="text/javascript"&gt;<br>            window.onload = function() {<br>                function style(obj, prop) {<br>                    if(window.getComputedStyle) {<br>                        return window.getComputedStyle(obj, null)[prop];<br>                    }<br>                    else if(obj.currentStyle) {<br>                        return obj.currentStyle[prop];<br>                    }<br>                    else {<br>                        return null;<br>                    }<br>                }<br>                var color = style(<br>                      document.getElementById('message'), 'backgroundColor');<br>                document.getElementById('console').innerHTML = color;<br>            };<br>        &lt;/script&gt;<br>    &lt;/head&gt;<br>    &lt;body&gt;<br>        &lt;div id="message"&gt;這是一段訊息&lt;/div&gt;<br>        &lt;span id="console"&gt;&lt;/span&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></pre>
      <small><span style="font-family: Courier New,Courier,monospace;"><br>
      <br>
      <br>
      </span></small><br>
<br>
</td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/JavaScript/Style.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:16:34 GMT -->
</html>