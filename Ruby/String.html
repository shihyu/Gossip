<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/Ruby/String.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:15:42 GMT -->
<head>


























  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">







  
  
  
  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">







  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>字串型態</title></head><body>







<h3><a href="../index.html">From
Gossip@Openhome</a></h3>







<h1><a href="index-2.html">Ruby Gossip: 字串型態<br>
</a></h1>

<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">

  <tbody>

    <tr>

      <td style="vertical-align: top; width: 250px; text-align: center;">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>

      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br> <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br><br><center> </center></td>

      <td style="vertical-align: top; width: 690px; text-align: left;"><small>在Ruby中要表示字串，看似可以使用雙引號或單引號來包括字元序列，字串是<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">String</span>類別的實例。例如：</small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">





        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "Justin"</span><br>
=&gt; "Justin"<br>
            <span style="font-weight: bold;">&gt;&gt; 'Justin'</span><br>
=&gt; "Justin"<br>
            <span style="font-weight: bold;">&gt;&gt; "Just'in"</span><br>
=&gt; "Just'in"<br>
            <span style="font-weight: bold;">&gt;&gt; 'Just"in'</span><br>
=&gt; "Just\"in"<br>
            <span style="font-weight: bold;">&gt;&gt; "Just" "in"</span><br>
=&gt; "Justin"<br>
            <span style="font-weight: bold;">&gt;&gt;</span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      </table>
      <br>
      <small>注意<span style="font-family: Courier New,Courier,monospace;">'Just"in'</span>時，實際上相當於<span style="font-family: Courier New,Courier,monospace;">"Just\"in"</span>，<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">\"</span>表示忽略（Escape）字元，因為"被用來作為括住字串的表示法，如果要在字串中表示<span style="font-family: Courier New,Courier,monospace;">"</span>，就必須寫為<span style="font-family: Courier New,Courier,monospace;">\"</span>，直譯器看到\會忽略下一個字元，不作為語法的一部份。</small><small>另外還有一些常用的忽略</small><small>字元表示：</small>
      <table align="left" border="1" width="100%">
<tbody><tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\\
            </small></td>




            <td align="left" valign="top"><small>反斜線
            </small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\'
            </small></td>




            <td align="left" valign="top"><small>單引號
' </small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\"
            </small></td>




            <td align="left" valign="top"><small>雙引號
" </small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\0oo
            </small></td>




            <td align="left" valign="top"><small>以8
進位數指定字元 </small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\xhh
            </small></td>




            <td align="left" valign="top"><small>以16進
位數指定字元 </small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\uhh</small></td>




            <td align="left" valign="top"><small>以Unicode 16位元編碼指定字元</small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\Uhh</small></td>




            <td align="left" valign="top"><small>以Unicode 32位元編碼指定字元</small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\0</small></td>




            <td align="left" valign="top"><small>空字元</small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\n</small></td>




            <td align="left" valign="top"><small>換行</small></td>




          </tr>




          <tr>




            <td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\r</small></td>




            <td align="left" valign="top"><small>歸位</small></td></tr><tr><td style="font-family: Courier New,Courier,monospace;" align="left" valign="top"><small>\t</small></td><td align="left" valign="top"><small>Tab</small></td></tr></tbody>
      </table>
      <br>
      <small><br>
實際上Ruby中的字串，應該都是使用雙引號括住，單引號括住的字串，實際上是讓你不用撰寫<span style="font-family: Courier New,Courier,monospace;">\\、\"</span>忽略字元，就可以<span style="font-family: Courier New,Courier,monospace;">代表\、"</span>的簡便方式。例如：</small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">






        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; 'Just\in'</span><br>
=&gt; "Just\\in"<br>
            <span style="font-weight: bold;">&gt;&gt; print 'Just\in'</span><br>
Just\in=&gt; nil<br>
            <span style="font-weight: bold;">&gt;&gt; 'Just"in'</span><br>
=&gt; "Just\"in"<br>
            <span style="font-weight: bold;">&gt;&gt; print 'Just"in'</span><br>
Just"in=&gt; nil<br>
            <span style="font-weight: bold;">&gt;&gt;</span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      </table>

      <br>
      <small>如上所示，如果你想顯示Just\in的結果，使用<span style="font-family: Courier New,Courier,monospace;">'Just\in'，實際會被轉換為"Just\\in"</span>，如果你想顯示Just"in，使用<span style="font-family: Courier New,Courier,monospace;">'Just"in'，實際會被轉換為"Just\"in"，也因此，在單引號中，除了<span style="font-weight: bold;">\\</span>與<span style="font-weight: bold;">\'</span>之外，撰寫其它忽略字元都會被當作原始字串（</span>Raw string<span style="font-family: Courier New,Courier,monospace;">）。例如：</span></small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">







        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; 'Just\'in'</span><br>
=&gt; "Just'in"<br>
            <span style="font-weight: bold;">&gt;&gt; print 'Just\'in'</span><br>
Just'in=&gt; nil<br>
</span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; 'Just\\in'</span><br>
=&gt; "Just\\in"<br><span style="font-weight: bold;">
&gt;&gt; print 'Just\\in'</span><br>
Just\in=&gt; nil</span></small><br>
            <small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; 'Just\nin'</span><br>
=&gt; "Just\\nin"<br>
            <span style="font-weight: bold;">&gt;&gt; print 'Just\nin'</span><br>
Just\nin=&gt; nil<br>
            <span style="font-weight: bold;">&gt;&gt;</span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      </table>


      <br>
      <small style="font-family: Courier New,Courier,monospace;">雙引號字串中若包括#{}，則#{}中的內容會被當作程式解釋。例如：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">








        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name = "Justin"<br>
</span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; "My name is #{name}"<br>
            </span>=&gt; "My name is Justin"<span style="font-weight: bold;"><br>
&gt;&gt; "My name is #{1 + 1}"<br>
            </span>=&gt; "My name is 2"<span style="font-weight: bold;"><br>
&gt;&gt; "#{def hello; puts 'hello'; end; hello}"<br>
            </span>hello<br>
=&gt; ""<span style="font-weight: bold;"><br>
&gt;&gt;</span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      
      </table>



      <br>
      <small style="font-family: Courier New,Courier,monospace;">被單引號括住的字串，不會對#{}中的內容解譯。例如：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">









        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name = "Monica"<br>
</span>=&gt; "Monica"<span style="font-weight: bold;"><br>
&gt;&gt; "My name is #{name}"<br>
            </span>=&gt; "My name is Monica"<span style="font-weight: bold;"><br>
&gt;&gt; 'My name is #{name}'<br>
            </span>=&gt; "My name is \#{name}"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      
      </table>




      <br>
      <small>如果想建立的字串中，同時要含有雙引號與單引號，可以使用<span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">%Q</span>或<span style="font-weight: bold;">%q</span></span>比較方便，</small><small><span style="font-family: Courier New,Courier,monospace;">%Q相當於建立雙引號字串，%q相當於建立單引號字串。%Q與%q</span></small><small>搭配<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">{</span><span style="font-family: Courier New,Courier,monospace;">、</span><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">}</span><span style="font-family: Courier New,Courier,monospace;">或</span><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">|</span><span style="font-family: Courier New,Courier,monospace;">、</span><span style="font-family: Courier New,Courier,monospace; font-weight: bold;">|</span><span style="font-family: Courier New,Courier,monospace;">都可以</span>。例如：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">








        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; %Q{"test" and 'test'}<br>
</span>=&gt; "\"test\" and 'test'"<span style="font-weight: bold;"><br>
&gt;&gt; %q{"test" and 'test'}<br>
            </span>=&gt; "\"test\" and 'test'"<span style="font-weight: bold;"><br>
&gt;&gt; %Q|"test" and 'test'|<br>
            </span>=&gt; "\"test\" and 'test'"<span style="font-weight: bold;"><br>
&gt;&gt; %q|"test" and 'test'|<br>
            </span>=&gt; "\"test\" and 'test'"<span style="font-weight: bold;"><br>&gt;&gt; name = "Monica"<br>
</span>=&gt; "Monica"<span style="font-weight: bold;"><br>
&gt;&gt; %Q{My name is #{name}}<br>
            </span>=&gt; "My name is Monica"<span style="font-weight: bold;"><br>
&gt;&gt; %q{My name is #{name}}<br>
            </span>=&gt; "My name is \#{name}"<span style="font-weight: bold;"><br>
&gt;&gt;</span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      
      </table>



      <br>
<small>撰寫字串時，可以在雙或單引號中直接Enter換行，字串會自動加上<span style="font-family: Courier New,Courier,monospace;">\n，如果包括縮排用的空白，空白也會是最後字串的一部份</span>。例如：</small><small><br></small>
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">








        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "This is<br>&nbsp; a test. This is<br>&nbsp; a test!"<br>
            </span>=&gt; "This is\n&nbsp; a test. This is \n&nbsp; a test!"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      </table>



      <br>
      <small>如果你想知道字串的字元長度，則可以使用<span style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">length</span>方法</span>（自 Ruby 1.9.2 開始）。例如：</small><small><span style="font-family: Courier New,Courier,monospace;"></span></small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">









        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "Justin".length<br>
</span>=&gt; 6<span style="font-weight: bold;"><br></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"></span></small><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      
      </table>




      <br>
      <small>如果想要逐一取得字元，可以使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">each_char</span>方法：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">










        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "Justin".each_char do |c|<br>
?&gt;&nbsp;&nbsp;&nbsp;&nbsp; print c, "-"<br>
&gt;&gt; end<br>
</span>J-u-s-t-i-n-=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span></span></small><br><span style="color: rgb(255, 255, 255);">




            </span></td></tr></tbody>
      
      </table>





      <br>

      <small>或者是使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">include?</span>方法測試是否包括某些字串：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">











        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "Justin".include? "Just"<br>
</span>=&gt; true<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      </table>

      <br>
      <small>可以使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">+</span>操作來串接字串，使用<span style="font-weight: bold;">*</span>可以重複字串：</small><small><span style="font-family: Courier New,Courier,monospace;"></span></small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">












        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; text1 = "Just"<br>
</span>=&gt; "Just"<span style="font-weight: bold;"><br>
&gt;&gt; text2 = "in"<br>
            </span>=&gt; "in"<span style="font-weight: bold;"><br>
&gt;&gt; text1 + text2<br>
            </span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; text1 * 10<br>
            </span>=&gt; "JustJustJustJustJustJustJustJustJustJust"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      </table>


      <br>
      <small>在強弱型別的光譜中，Ruby比較偏強型別，型態較不能自行轉換，例如Ruby中，不能混合字串與數字進行+運算，你得自己使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">to_s</span>方法，將數字轉為字串，才可以進行字串串接：</small><small><br></small>
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">













        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "score: " + 90</span><br>
TypeError: can't convert Fixnum into String<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from (irb):13:in `+'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from (irb):13<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; from C:/Winware/Ruby192/bin/irb:12:in `&lt;main&gt;'<span style="font-weight: bold;"><br>
&gt;&gt; "score: " + 90.to_s<br>
            </span>=&gt; "score: 90"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      </table>



      <br>
<small>+實際會產生新的字串，不過在Ruby中，字串是可變動的（Immutable），例如可使用<span style="font-family: Courier New,Courier,monospace; font-weight: bold;">&lt;&lt;</span>在原字串後附加字串：</small><small><br></small>
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">













        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; text1 = "Just"<br>
</span>=&gt; "Just"<span style="font-weight: bold;"><br>&gt;&gt; text1 &lt;&lt; "in"<br>
</span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; text1<br>
            </span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      </table>



      <br>
      <small style="font-family: Courier New,Courier,monospace;"></small><small>如果你想知道某個字元的編碼，則可以使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">ord</span><span style="font-family: Courier New,Courier,monospace;">方法</span>，使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">chr</span><span style="font-family: Courier New,Courier,monospace;">方法</span>則可以將指定編碼轉換為字元：</small><small><br></small>
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">















        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; "A".ord<br>
</span>=&gt; 65<span style="font-weight: bold;"><br>
&gt;&gt; 65.chr<br>
            </span>=&gt; "A"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      </table>





      <br>
      <small>字串是由字元序列所組成，如果你想要取得字串中某個字元，則可以使用<span style="font-weight: bold; font-family: Courier New,Courier,monospace;">[]</span>指定索引，索引從0開始。例如：</small><small><br></small>
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">
















        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name = "Justin"<br>
</span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; name[0]<br>
            </span>=&gt; "J"<span style="font-weight: bold;"><br>
&gt;&gt; name[1]<br>
            </span>=&gt; "u"<span style="font-weight: bold;"><br>
&gt;&gt; name[-1]<br>
            </span>=&gt; "n"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      </table>






      <br>
      <small>Ruby中的索引，不僅可指定正值，還可以指定負值，實際上了解索引意義的開發人員，都知道索引其實就是相對第一個元素的偏移值，在Ruby中，正值索引就是指正偏移值，負值索引就是負偏移值，也就是-1索引就是倒數第一個元素，-2索引就是倒數第二個元素。<br><br><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">[]</span>操作還可以進行切片（Slice）運算。例如：</small><small><br></small>
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">

















        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name<br>
</span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; name[0..2]<br>
            </span>=&gt; "Jus"<br>
            <span style="font-weight: bold;">&gt;&gt; name[0...2]</span><br>
=&gt; "Ju"<br>
<span style="font-weight: bold;">
&gt;&gt; name[3..-1]<br>
            </span>=&gt; "tin"<span style="font-weight: bold;"><br>
            </span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name[-5..-2]<br></span>
=&gt; "usti"</span></small><br>
            <small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name[0, 4]<br>
            </span>=&gt; "Just"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      </table>







      <br>
      <small style="font-family: Courier New,Courier,monospace;">[n..m]是指定起始索引與結束索引，且包括結束索引，以取得子字串，[n...m]</small><small style="font-family: Courier New,Courier,monospace;">是指定起始索引與結束索引，但不包括結束索引（實際上n..m或n...m建立了Range實例，之後會再說明），</small><small style="font-family: Courier New,Courier,monospace;">[n,length]是指定起始索引與長度以取得子字串，由於可指定負值，因此name[-5..-2]就相當於指定name[1..4]。</small><small style="font-family: Courier New,Courier,monospace;"></small><br>
      <small style="font-family: Courier New,Courier,monospace;">
      <br>
先前談過，</small><small>Ruby</small><small style="font-family: Courier New,Courier,monospace;">中的字串是可以變動的，你也可以使用[]指定索引變動字串內容：</small><small><br></small>
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">


















        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name<br>
</span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; name[0] = "j"<br>
            </span>=&gt; "j"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "justin"<span style="font-weight: bold;"><br>
&gt;&gt; name[1..3] = "ava"<br>
            </span>=&gt; "ava"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "javain"<span style="font-weight: bold;"><br>
&gt;&gt; name[0, 4] = "Just"<br>
            </span>=&gt; "Just"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "Justin"<span style="font-weight: bold;"><br>
&gt;&gt; name[0..-1] = "Java"<br>
            </span>=&gt; "Java"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "Java"<span style="font-weight: bold;"><br>
&gt;&gt; name[1..0] = "-"<br>
            </span>=&gt; "-"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "J-ava"<span style="font-weight: bold;"><br>
&gt;&gt; name[3, 0] = "-"<br>
            </span>=&gt; "-"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "J-a-va"<span style="font-weight: bold;"><br>
&gt;&gt; name[5...0] = "-"<br>
=&gt; "-"<br>
&gt;&gt; name<br>
            </span>=&gt; "J-a-v-a"<span style="font-weight: bold;"><br>
&gt;&gt;</span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      </table>








      <br>
      <small style="font-family: Courier New,Courier,monospace;">[n..m]、</small><small style="font-family: Courier New,Courier,monospace;">[n...m]</small><small style="font-family: Courier New,Courier,monospace;">或[n,
length]右邊接上=，表示作取代的動作，如果指定了[n..0]、[n...0]或[n, 0]，則是技巧性地作了安插的動作。</small><br>
<br>
      <small>如果想要取代字串，也可以使用<span style="font-family: Courier New,Courier,monospace;">[]時指定被取代字串</span>。例如：</small><small><br></small>
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">



















        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; slogan = "I love Java"<br>
</span>=&gt; "I love Java"<span style="font-weight: bold;"><br>
&gt;&gt; slogan["Java"] = "Ruby"<br>
            </span>=&gt; "Ruby"<span style="font-weight: bold;"><br>
&gt;&gt; slogan<br>
            </span>=&gt; "I love Ruby"<span style="font-weight: bold;"><br>
&gt;&gt; slogan["love"] = "am learning"<br>
            </span>=&gt; "am learning"<span style="font-weight: bold;"><br>
&gt;&gt; slogan<br>
            </span>=&gt; "I am learning Ruby"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      
      </table>









      <small style="font-family: Courier New,Courier,monospace;"><br>
      </small>
      <small style="font-family: Courier New,Courier,monospace;">如果想要反轉字串，可以使用<span style="font-weight: bold;">reverse</span>方法，這會傳回新字串，內容為原字串反轉後的結果，如果使用<span style="font-weight: bold;">reverse!</span>方法，則會在原字串上反轉：</small><small><br></small>
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">



















        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;">&gt;&gt; name<br>
</span>=&gt; "Java"<span style="font-weight: bold;"><br>
&gt;&gt; name2 = name.reverse<br>
            </span>=&gt; "avaJ"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "Java"<span style="font-weight: bold;"><br>
&gt;&gt; name2<br>
            </span>=&gt; "avaJ"<span style="font-weight: bold;"><br>
&gt;&gt; name.reverse!<br>
            </span>=&gt; "avaJ"<span style="font-weight: bold;"><br>
&gt;&gt; name<br>
            </span>=&gt; "avaJ"<span style="font-weight: bold;"><br>
&gt;&gt;</span><span style="font-weight: bold;"></span></span></small><small style="font-family: Courier New,Courier,monospace;"><span style="color: rgb(255, 255, 255);"><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;"></span></span></small></td></tr></tbody>
      
      
      </table>









      <br>

      <small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">在</span></small><small><span style="font-weight: bold;">Ruby</span></small><small style="font-family: Courier New,Courier,monospace;"><span style="font-weight: bold;">的慣例中，如果同時提供有name與name!兩種方法，有!結尾的方法代表著要注意它與無!方法有所不同。</span>例如，字串上沒!的方法表示以新字串傳回結果，有!的方法表示會修改原字串，像是轉大寫就有upcase與upcase!方法，轉小寫會有downcase與downcase!方法，裁剪字串前後空白的chomp與chomp!等方法。</small><small><br>
      <br>
Ruby</small><small style="font-family: Courier New,Courier,monospace;">慣例中，有提供!的方法，就會有提供對應的無!方法。例如，有abc!方法，慣例上就會有個abc方法，不會只單獨定義一個cde!方法，而沒有對應的cde方法。有經驗的</small><small>Ruby</small><small style="font-family: Courier New,Courier,monospace;">程式開發人員，看到xyz!，就會去思考它與xyz方法有什麼不同。<br>
      </small>
      <small><br>
      </small><small><br>
      </small>
</td>

    </tr>

  </tbody>
</table>

<br>
<br>

<br>

<br>







<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script></body>
<!-- Mirrored from openhome.cc/Gossip/Ruby/String.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:15:42 GMT -->
</html>